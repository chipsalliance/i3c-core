

<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="icon" href="">
    
    
      
        <title>Design verification - CHIPS Alliance Caliptra Open Source I3C core</title>
      
    
    
      
        
        
      
      

    
    
    
      
        
        
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
        <link rel="stylesheet" type="text/css" href="_static/sphinx_immaterial_theme.c5589c0bd87d933a4.min.css?v=eeeb54bc" />
    <script>__md_scope=new URL(".",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="teal" data-md-color-accent="deep-orange">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="index.html" title="CHIPS Alliance Caliptra Open Source I3C core" class="md-header__button md-logo" aria-label="CHIPS Alliance Caliptra Open Source I3C core" data-md-component="logo">
      <img src="_static/white.svg" alt="logo">
    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            CHIPS Alliance Caliptra Open Source I3C core
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Design verification
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="teal" data-md-color-accent="deep-orange"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14L3.36 17M20.65 7l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29L20.64 17M12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44L12 22Z"/></svg>
            </label>
          
        
          
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="deep-orange"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31Z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <div class="md-header__button">
        <a href="i3c-core-docs.pdf" title="PDF - i3c-core-docs.pdf">
          <div class="md-icon">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M64 0C28.7 0 0 28.7 0 64v384c0 35.3 28.7 64 64 64h256c35.3 0 64-28.7 64-64V160H256c-17.7 0-32-14.3-32-32V0H64zm192 0v128h128L256 0zM64 224h24c30.9 0 56 25.1 56 56s-25.1 56-56 56h-8v32c0 8.8-7.2 16-16 16s-16-7.2-16-16V240c0-8.8 7.2-16 16-16zm24 80c13.3 0 24-10.7 24-24s-10.7-24-24-24h-8v48h8zm72-64c0-8.8 7.2-16 16-16h24c26.5 0 48 21.5 48 48v64c0 26.5-21.5 48-48 48h-24c-8.8 0-16-7.2-16-16V240zm32 112h8c8.8 0 16-7.2 16-16v-64c0-8.8-7.2-16-16-16h-8v96zm96-128h48c8.8 0 16 7.2 16 16s-7.2 16-16 16h-32v32h32c8.8 0 16 7.2 16 16s-7.2 16-16 16h-32v48c0 8.8-7.2 16-16 16s-16-7.2-16-16V240c0-8.8 7.2-16 16-16z"/></svg>
          </div>
        </a>
      </div>
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  

<nav class="md-nav md-nav--primary md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="index.html" title="CHIPS Alliance Caliptra Open Source I3C core" class="md-nav__button md-logo" aria-label="CHIPS Alliance Caliptra Open Source I3C core" data-md-component="logo">
      <img src="_static/white.svg" alt="logo">
    </a>
    CHIPS Alliance Caliptra Open Source I3C core
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
  
    <li class="md-nav__item">
      <a href="introduction.html" class="md-nav__link">
        <span class="md-ellipsis">Introduction</span>
      </a>
    </li>
  

    
      
      
      

  
  
  
  
    <li class="md-nav__item">
      <a href="overview.html" class="md-nav__link">
        <span class="md-ellipsis">I3C core overview</span>
      </a>
    </li>
  

    
      
      
      

  
  
  
  
    <li class="md-nav__item">
      <a href="phy.html" class="md-nav__link">
        <span class="md-ellipsis">Physical Layer</span>
      </a>
    </li>
  

    
      
      
      

  
  
    
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          <span class="md-ellipsis">Design verification</span>
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="#" class="md-nav__link md-nav__link--active">
        <span class="md-ellipsis">Design verification</span>
      </a>
      
        

<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#testplans-for-individual-blocks" class="md-nav__link">
    <span class="md-ellipsis">Testplans for individual blocks</span>
  </a>
  
    <nav class="md-nav" aria-label="Testplans for individual blocks">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#axi-filtering" class="md-nav__link">
    <span class="md-ellipsis">axi_<wbr>filtering</span>
  </a>
  
    <nav class="md-nav" aria-label="axi_filtering">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#testpoints" class="md-nav__link">
    <span class="md-ellipsis">Testpoints</span>
  </a>
  
    <nav class="md-nav" aria-label="Testpoints">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#axi-filtering-disabled" class="md-nav__link">
    <span class="md-ellipsis">axi_<wbr>filtering_<wbr>disabled</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#axi-filtering-priv" class="md-nav__link">
    <span class="md-ellipsis">axi_<wbr>filtering_<wbr>priv</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#axi-filtering-non-priv" class="md-nav__link">
    <span class="md-ellipsis">axi_<wbr>filtering_<wbr>non_<wbr>priv</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#axi-filtering-mixed-priv" class="md-nav__link">
    <span class="md-ellipsis">axi_<wbr>filtering_<wbr>mixed_<wbr>priv</span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bus-monitor" class="md-nav__link">
    <span class="md-ellipsis">bus_<wbr>monitor</span>
  </a>
  
    <nav class="md-nav" aria-label="bus_monitor">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#id1" class="md-nav__link">
    <span class="md-ellipsis">Testpoints</span>
  </a>
  
    <nav class="md-nav" aria-label="Testpoints">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#id2" class="md-nav__link">
    <span class="md-ellipsis">bus_<wbr>monitor</span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bus-rx-flow" class="md-nav__link">
    <span class="md-ellipsis">bus_<wbr>rx_<wbr>flow</span>
  </a>
  
    <nav class="md-nav" aria-label="bus_rx_flow">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#id3" class="md-nav__link">
    <span class="md-ellipsis">Testpoints</span>
  </a>
  
    <nav class="md-nav" aria-label="Testpoints">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#multiple-bit-reads" class="md-nav__link">
    <span class="md-ellipsis">multiple_<wbr>bit_<wbr>reads</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#multiple-byte-reads" class="md-nav__link">
    <span class="md-ellipsis">multiple_<wbr>byte_<wbr>reads</span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bus-timers" class="md-nav__link">
    <span class="md-ellipsis">bus_<wbr>timers</span>
  </a>
  
    <nav class="md-nav" aria-label="bus_timers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#id4" class="md-nav__link">
    <span class="md-ellipsis">Testpoints</span>
  </a>
  
    <nav class="md-nav" aria-label="Testpoints">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#get-status" class="md-nav__link">
    <span class="md-ellipsis">get_<wbr>status</span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bus-tx" class="md-nav__link">
    <span class="md-ellipsis">bus_<wbr>tx</span>
  </a>
  
    <nav class="md-nav" aria-label="bus_tx">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#id5" class="md-nav__link">
    <span class="md-ellipsis">Testpoints</span>
  </a>
  
    <nav class="md-nav" aria-label="Testpoints">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bit-tx-negedge" class="md-nav__link">
    <span class="md-ellipsis">bit_<wbr>tx_<wbr>negedge</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bit-tx-pre-posedge" class="md-nav__link">
    <span class="md-ellipsis">bit_<wbr>tx_<wbr>pre_<wbr>posedge</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bit-tx-high-level" class="md-nav__link">
    <span class="md-ellipsis">bit_<wbr>tx_<wbr>high_<wbr>level</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bit-tx-low-level" class="md-nav__link">
    <span class="md-ellipsis">bit_<wbr>tx_<wbr>low_<wbr>level</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#byte-tx" class="md-nav__link">
    <span class="md-ellipsis">byte_<wbr>tx</span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bus-tx-flow" class="md-nav__link">
    <span class="md-ellipsis">bus_<wbr>tx_<wbr>flow</span>
  </a>
  
    <nav class="md-nav" aria-label="bus_tx_flow">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#id6" class="md-nav__link">
    <span class="md-ellipsis">Testpoints</span>
  </a>
  
    <nav class="md-nav" aria-label="Testpoints">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#id7" class="md-nav__link">
    <span class="md-ellipsis">bit_<wbr>tx_<wbr>negedge</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#id8" class="md-nav__link">
    <span class="md-ellipsis">bit_<wbr>tx_<wbr>pre_<wbr>posedge</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#id9" class="md-nav__link">
    <span class="md-ellipsis">bit_<wbr>tx_<wbr>high_<wbr>level</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#id10" class="md-nav__link">
    <span class="md-ellipsis">bit_<wbr>tx_<wbr>low_<wbr>level</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#id11" class="md-nav__link">
    <span class="md-ellipsis">byte_<wbr>tx</span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ccc" class="md-nav__link">
    <span class="md-ellipsis">ccc</span>
  </a>
  
    <nav class="md-nav" aria-label="ccc">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#id12" class="md-nav__link">
    <span class="md-ellipsis">Testpoints</span>
  </a>
  
    <nav class="md-nav" aria-label="Testpoints">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#id13" class="md-nav__link">
    <span class="md-ellipsis">ccc</span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#csr-sw-access" class="md-nav__link">
    <span class="md-ellipsis">csr_<wbr>sw_<wbr>access</span>
  </a>
  
    <nav class="md-nav" aria-label="csr_sw_access">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#id14" class="md-nav__link">
    <span class="md-ellipsis">Testpoints</span>
  </a>
  
    <nav class="md-nav" aria-label="Testpoints">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#read-hci-version-csr" class="md-nav__link">
    <span class="md-ellipsis">read_<wbr>hci_<wbr>version_<wbr>csr</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#read-pio-section-offset" class="md-nav__link">
    <span class="md-ellipsis">read_<wbr>pio_<wbr>section_<wbr>offset</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#write-to-controller-device-addr" class="md-nav__link">
    <span class="md-ellipsis">write_<wbr>to_<wbr>controller_<wbr>device_<wbr>addr</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#write-should-not-affect-ro-csr" class="md-nav__link">
    <span class="md-ellipsis">write_<wbr>should_<wbr>not_<wbr>affect_<wbr>ro_<wbr>csr</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sequence-csr-read" class="md-nav__link">
    <span class="md-ellipsis">sequence_<wbr>csr_<wbr>read</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sequence-csr-write" class="md-nav__link">
    <span class="md-ellipsis">sequence_<wbr>csr_<wbr>write</span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#descriptor-rx" class="md-nav__link">
    <span class="md-ellipsis">descriptor_<wbr>rx</span>
  </a>
  
    <nav class="md-nav" aria-label="descriptor_rx">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#id15" class="md-nav__link">
    <span class="md-ellipsis">Testpoints</span>
  </a>
  
    <nav class="md-nav" aria-label="Testpoints">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#id16" class="md-nav__link">
    <span class="md-ellipsis">descriptor_<wbr>rx</span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#descriptor-tx" class="md-nav__link">
    <span class="md-ellipsis">descriptor_<wbr>tx</span>
  </a>
  
    <nav class="md-nav" aria-label="descriptor_tx">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#id17" class="md-nav__link">
    <span class="md-ellipsis">Testpoints</span>
  </a>
  
    <nav class="md-nav" aria-label="Testpoints">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#id18" class="md-nav__link">
    <span class="md-ellipsis">descriptor_<wbr>tx</span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#drivers" class="md-nav__link">
    <span class="md-ellipsis">drivers</span>
  </a>
  
    <nav class="md-nav" aria-label="drivers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#id19" class="md-nav__link">
    <span class="md-ellipsis">Testpoints</span>
  </a>
  
    <nav class="md-nav" aria-label="Testpoints">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#test-drivers" class="md-nav__link">
    <span class="md-ellipsis">test_<wbr>drivers</span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#edge-detector" class="md-nav__link">
    <span class="md-ellipsis">edge_<wbr>detector</span>
  </a>
  
    <nav class="md-nav" aria-label="edge_detector">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#id20" class="md-nav__link">
    <span class="md-ellipsis">Testpoints</span>
  </a>
  
    <nav class="md-nav" aria-label="Testpoints">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pretrigger-with-delay" class="md-nav__link">
    <span class="md-ellipsis">pretrigger_<wbr>with_<wbr>delay</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#posttrigger-with-delay" class="md-nav__link">
    <span class="md-ellipsis">posttrigger_<wbr>with_<wbr>delay</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trigger-with-delay" class="md-nav__link">
    <span class="md-ellipsis">trigger_<wbr>with_<wbr>delay</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pretrigger-no-delay" class="md-nav__link">
    <span class="md-ellipsis">pretrigger_<wbr>no_<wbr>delay</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#posttrigger-no-delay" class="md-nav__link">
    <span class="md-ellipsis">posttrigger_<wbr>no_<wbr>delay</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trigger-no-delay" class="md-nav__link">
    <span class="md-ellipsis">trigger_<wbr>no_<wbr>delay</span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flow-standby-i3c" class="md-nav__link">
    <span class="md-ellipsis">flow_<wbr>standby_<wbr>i3c</span>
  </a>
  
    <nav class="md-nav" aria-label="flow_standby_i3c">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#id21" class="md-nav__link">
    <span class="md-ellipsis">Testpoints</span>
  </a>
  
    <nav class="md-nav" aria-label="Testpoints">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rx" class="md-nav__link">
    <span class="md-ellipsis">rx</span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hci-queues" class="md-nav__link">
    <span class="md-ellipsis">hci_<wbr>queues</span>
  </a>
  
    <nav class="md-nav" aria-label="hci_queues">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#id22" class="md-nav__link">
    <span class="md-ellipsis">Testpoints</span>
  </a>
  
    <nav class="md-nav" aria-label="Testpoints">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#clear-on-nonempty-resp-queue" class="md-nav__link">
    <span class="md-ellipsis">clear_<wbr>on_<wbr>nonempty_<wbr>resp_<wbr>queue</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clear-on-nonempty-cmd-queue" class="md-nav__link">
    <span class="md-ellipsis">clear_<wbr>on_<wbr>nonempty_<wbr>cmd_<wbr>queue</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clear-on-nonempty-rx-queue" class="md-nav__link">
    <span class="md-ellipsis">clear_<wbr>on_<wbr>nonempty_<wbr>rx_<wbr>queue</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clear-on-nonempty-tx-queue" class="md-nav__link">
    <span class="md-ellipsis">clear_<wbr>on_<wbr>nonempty_<wbr>tx_<wbr>queue</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clear-on-nonempty-ibi-queue" class="md-nav__link">
    <span class="md-ellipsis">clear_<wbr>on_<wbr>nonempty_<wbr>ibi_<wbr>queue</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cmd-capacity-status" class="md-nav__link">
    <span class="md-ellipsis">cmd_<wbr>capacity_<wbr>status</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resp-capacity-status" class="md-nav__link">
    <span class="md-ellipsis">resp_<wbr>capacity_<wbr>status</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rx-capacity-status" class="md-nav__link">
    <span class="md-ellipsis">rx_<wbr>capacity_<wbr>status</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tx-capacity-status" class="md-nav__link">
    <span class="md-ellipsis">tx_<wbr>capacity_<wbr>status</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ibi-capacity-status" class="md-nav__link">
    <span class="md-ellipsis">ibi_<wbr>capacity_<wbr>status</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cmd-setup-threshold" class="md-nav__link">
    <span class="md-ellipsis">cmd_<wbr>setup_<wbr>threshold</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resp-setup-threshold" class="md-nav__link">
    <span class="md-ellipsis">resp_<wbr>setup_<wbr>threshold</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rx-setup-threshold" class="md-nav__link">
    <span class="md-ellipsis">rx_<wbr>setup_<wbr>threshold</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tx-setup-threshold" class="md-nav__link">
    <span class="md-ellipsis">tx_<wbr>setup_<wbr>threshold</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ibi-setup-threshold" class="md-nav__link">
    <span class="md-ellipsis">ibi_<wbr>setup_<wbr>threshold</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resp-should-raise-thld-trig" class="md-nav__link">
    <span class="md-ellipsis">resp_<wbr>should_<wbr>raise_<wbr>thld_<wbr>trig</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rx-should-raise-thld-trig" class="md-nav__link">
    <span class="md-ellipsis">rx_<wbr>should_<wbr>raise_<wbr>thld_<wbr>trig</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ibi-should-raise-thld-trig" class="md-nav__link">
    <span class="md-ellipsis">ibi_<wbr>should_<wbr>raise_<wbr>thld_<wbr>trig</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cmd-should-raise-thld-trig" class="md-nav__link">
    <span class="md-ellipsis">cmd_<wbr>should_<wbr>raise_<wbr>thld_<wbr>trig</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tx-should-raise-thld-trig" class="md-nav__link">
    <span class="md-ellipsis">tx_<wbr>should_<wbr>raise_<wbr>thld_<wbr>trig</span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#i3c-bus-monitor" class="md-nav__link">
    <span class="md-ellipsis">i3c_<wbr>bus_<wbr>monitor</span>
  </a>
  
    <nav class="md-nav" aria-label="i3c_bus_monitor">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#id23" class="md-nav__link">
    <span class="md-ellipsis">Testpoints</span>
  </a>
  
    <nav class="md-nav" aria-label="Testpoints">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bus-monitor-hdr-exit" class="md-nav__link">
    <span class="md-ellipsis">bus_<wbr>monitor_<wbr>hdr_<wbr>exit</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#target-reset-detection" class="md-nav__link">
    <span class="md-ellipsis">target_<wbr>reset_<wbr>detection</span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pec" class="md-nav__link">
    <span class="md-ellipsis">pec</span>
  </a>
  
    <nav class="md-nav" aria-label="pec">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#id24" class="md-nav__link">
    <span class="md-ellipsis">Testpoints</span>
  </a>
  
    <nav class="md-nav" aria-label="Testpoints">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#id25" class="md-nav__link">
    <span class="md-ellipsis">pec</span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tti-queues" class="md-nav__link">
    <span class="md-ellipsis">tti_<wbr>queues</span>
  </a>
  
    <nav class="md-nav" aria-label="tti_queues">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#id26" class="md-nav__link">
    <span class="md-ellipsis">Testpoints</span>
  </a>
  
    <nav class="md-nav" aria-label="Testpoints">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tti-tx-capacity-status" class="md-nav__link">
    <span class="md-ellipsis">tti_<wbr>tx_<wbr>capacity_<wbr>status</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tti-tx-desc-capacity-status" class="md-nav__link">
    <span class="md-ellipsis">tti_<wbr>tx_<wbr>desc_<wbr>capacity_<wbr>status</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tti-rx-capacity-status" class="md-nav__link">
    <span class="md-ellipsis">tti_<wbr>rx_<wbr>capacity_<wbr>status</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tti-rx-desc-capacity-status" class="md-nav__link">
    <span class="md-ellipsis">tti_<wbr>rx_<wbr>desc_<wbr>capacity_<wbr>status</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tti-tx-setup-threshold" class="md-nav__link">
    <span class="md-ellipsis">tti_<wbr>tx_<wbr>setup_<wbr>threshold</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tti-tx-desc-setup-threshold" class="md-nav__link">
    <span class="md-ellipsis">tti_<wbr>tx_<wbr>desc_<wbr>setup_<wbr>threshold</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tti-rx-setup-threshold" class="md-nav__link">
    <span class="md-ellipsis">tti_<wbr>rx_<wbr>setup_<wbr>threshold</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tti-rx-desc-setup-threshold" class="md-nav__link">
    <span class="md-ellipsis">tti_<wbr>rx_<wbr>desc_<wbr>setup_<wbr>threshold</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tti-ibi-setup-threshold" class="md-nav__link">
    <span class="md-ellipsis">tti_<wbr>ibi_<wbr>setup_<wbr>threshold</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tti-ibi-should-raise-thld-trig" class="md-nav__link">
    <span class="md-ellipsis">tti_<wbr>ibi_<wbr>should_<wbr>raise_<wbr>thld_<wbr>trig</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tti-rx-desc-should-raise-thld-trig" class="md-nav__link">
    <span class="md-ellipsis">tti_<wbr>rx_<wbr>desc_<wbr>should_<wbr>raise_<wbr>thld_<wbr>trig</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#id27" class="md-nav__link">
    <span class="md-ellipsis">rx_<wbr>should_<wbr>raise_<wbr>thld_<wbr>trig</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tx-desc-should-raise-thld-trig" class="md-nav__link">
    <span class="md-ellipsis">tx_<wbr>desc_<wbr>should_<wbr>raise_<wbr>thld_<wbr>trig</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#id28" class="md-nav__link">
    <span class="md-ellipsis">tx_<wbr>should_<wbr>raise_<wbr>thld_<wbr>trig</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#id29" class="md-nav__link">
    <span class="md-ellipsis">ibi_<wbr>should_<wbr>raise_<wbr>thld_<wbr>trig</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tti-ibi-capacity-status" class="md-nav__link">
    <span class="md-ellipsis">tti_<wbr>ibi_<wbr>capacity_<wbr>status</span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#width-converter-8ton" class="md-nav__link">
    <span class="md-ellipsis">width_<wbr>converter_<wbr>8to<wbr>N</span>
  </a>
  
    <nav class="md-nav" aria-label="width_converter_8toN">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#id30" class="md-nav__link">
    <span class="md-ellipsis">Testpoints</span>
  </a>
  
    <nav class="md-nav" aria-label="Testpoints">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#converter" class="md-nav__link">
    <span class="md-ellipsis">converter</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flush" class="md-nav__link">
    <span class="md-ellipsis">flush</span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#width-converter-nto8" class="md-nav__link">
    <span class="md-ellipsis">width_<wbr>converter_<wbr>Nto8</span>
  </a>
  
    <nav class="md-nav" aria-label="width_converter_Nto8">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#id31" class="md-nav__link">
    <span class="md-ellipsis">Testpoints</span>
  </a>
  
    <nav class="md-nav" aria-label="Testpoints">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#id32" class="md-nav__link">
    <span class="md-ellipsis">converter</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#id33" class="md-nav__link">
    <span class="md-ellipsis">flush</span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#testplans-for-the-core" class="md-nav__link">
    <span class="md-ellipsis">Testplans for the core</span>
  </a>
  
    <nav class="md-nav" aria-label="Testplans for the core">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#target" class="md-nav__link">
    <span class="md-ellipsis">Target</span>
  </a>
  
    <nav class="md-nav" aria-label="Target">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#id34" class="md-nav__link">
    <span class="md-ellipsis">Testpoints</span>
  </a>
  
    <nav class="md-nav" aria-label="Testpoints">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#i3c-target-write" class="md-nav__link">
    <span class="md-ellipsis">i3c_<wbr>target_<wbr>write</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#i3c-target-read" class="md-nav__link">
    <span class="md-ellipsis">i3c_<wbr>target_<wbr>read</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#i3c-target-ibi" class="md-nav__link">
    <span class="md-ellipsis">i3c_<wbr>target_<wbr>ibi</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#i3c-target-ibi-retry" class="md-nav__link">
    <span class="md-ellipsis">i3c_<wbr>target_<wbr>ibi_<wbr>retry</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#i3c-target-ibi-data" class="md-nav__link">
    <span class="md-ellipsis">i3c_<wbr>target_<wbr>ibi_<wbr>data</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#i3c-target-writes-and-reads" class="md-nav__link">
    <span class="md-ellipsis">i3c_<wbr>target_<wbr>writes_<wbr>and_<wbr>reads</span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ccc-handling" class="md-nav__link">
    <span class="md-ellipsis">CCC handling</span>
  </a>
  
    <nav class="md-nav" aria-label="CCC handling">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#id35" class="md-nav__link">
    <span class="md-ellipsis">Testpoints</span>
  </a>
  
    <nav class="md-nav" aria-label="Testpoints">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ccc-getstatus" class="md-nav__link">
    <span class="md-ellipsis">ccc_<wbr>getstatus</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ccc-setdasa" class="md-nav__link">
    <span class="md-ellipsis">ccc_<wbr>setdasa</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ccc-rstdaa" class="md-nav__link">
    <span class="md-ellipsis">ccc_<wbr>rstdaa</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ccc-getbcr" class="md-nav__link">
    <span class="md-ellipsis">ccc_<wbr>getbcr</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ccc-getdcr" class="md-nav__link">
    <span class="md-ellipsis">ccc_<wbr>getdcr</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ccc-getmwl" class="md-nav__link">
    <span class="md-ellipsis">ccc_<wbr>getmwl</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ccc-getmrl" class="md-nav__link">
    <span class="md-ellipsis">ccc_<wbr>getmrl</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ccc-setaasa" class="md-nav__link">
    <span class="md-ellipsis">ccc_<wbr>setaasa</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ccc-getpid" class="md-nav__link">
    <span class="md-ellipsis">ccc_<wbr>getpid</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ccc-enec-disec-direct" class="md-nav__link">
    <span class="md-ellipsis">ccc_<wbr>enec_<wbr>disec_<wbr>direct</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ccc-enec-disec-bcast" class="md-nav__link">
    <span class="md-ellipsis">ccc_<wbr>enec_<wbr>disec_<wbr>bcast</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ccc-setmwl-direct" class="md-nav__link">
    <span class="md-ellipsis">ccc_<wbr>setmwl_<wbr>direct</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ccc-setmrl-direct" class="md-nav__link">
    <span class="md-ellipsis">ccc_<wbr>setmrl_<wbr>direct</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ccc-setmwl-bcast" class="md-nav__link">
    <span class="md-ellipsis">ccc_<wbr>setmwl_<wbr>bcast</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ccc-setmrl-bcast" class="md-nav__link">
    <span class="md-ellipsis">ccc_<wbr>setmrl_<wbr>bcast</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ccc-rstact-direct" class="md-nav__link">
    <span class="md-ellipsis">ccc_<wbr>rstact_<wbr>direct</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ccc-rstact-bcast" class="md-nav__link">
    <span class="md-ellipsis">ccc_<wbr>rstact_<wbr>bcast</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ccc-direct-multiple-wr" class="md-nav__link">
    <span class="md-ellipsis">ccc_<wbr>direct_<wbr>multiple_<wbr>wr</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ccc-direct-multiple-rd" class="md-nav__link">
    <span class="md-ellipsis">ccc_<wbr>direct_<wbr>multiple_<wbr>rd</span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enter-and-exit-hdr-mode" class="md-nav__link">
    <span class="md-ellipsis">Enter and exit HDR mode</span>
  </a>
  
    <nav class="md-nav" aria-label="Enter and exit HDR mode">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#id36" class="md-nav__link">
    <span class="md-ellipsis">Testpoints</span>
  </a>
  
    <nav class="md-nav" aria-label="Testpoints">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#id37" class="md-nav__link">
    <span class="md-ellipsis">Enter and exit HDR mode</span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#target-interrupts" class="md-nav__link">
    <span class="md-ellipsis">target_<wbr>interrupts</span>
  </a>
  
    <nav class="md-nav" aria-label="target_interrupts">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#id38" class="md-nav__link">
    <span class="md-ellipsis">Testpoints</span>
  </a>
  
    <nav class="md-nav" aria-label="Testpoints">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rx-desc-stat" class="md-nav__link">
    <span class="md-ellipsis">rx_<wbr>desc_<wbr>stat</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tx-desc-stat" class="md-nav__link">
    <span class="md-ellipsis">tx_<wbr>desc_<wbr>stat</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ibi-done" class="md-nav__link">
    <span class="md-ellipsis">ibi_<wbr>done</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#interrupt-force" class="md-nav__link">
    <span class="md-ellipsis">interrupt_<wbr>force</span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#recovery-mode-tests" class="md-nav__link">
    <span class="md-ellipsis">Recovery mode tests</span>
  </a>
  
    <nav class="md-nav" aria-label="Recovery mode tests">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#id39" class="md-nav__link">
    <span class="md-ellipsis">Testpoints</span>
  </a>
  
    <nav class="md-nav" aria-label="Testpoints">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#virtual-write" class="md-nav__link">
    <span class="md-ellipsis">virtual_<wbr>write</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#virtual-write-alternating" class="md-nav__link">
    <span class="md-ellipsis">virtual_<wbr>write_<wbr>alternating</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#write" class="md-nav__link">
    <span class="md-ellipsis">write</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#indirect-fifo-write" class="md-nav__link">
    <span class="md-ellipsis">indirect_<wbr>fifo_<wbr>write</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#write-pec" class="md-nav__link">
    <span class="md-ellipsis">write_<wbr>pec</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#read" class="md-nav__link">
    <span class="md-ellipsis">read</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#read-short" class="md-nav__link">
    <span class="md-ellipsis">read_<wbr>short</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#read-long" class="md-nav__link">
    <span class="md-ellipsis">read_<wbr>long</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#virtual-read" class="md-nav__link">
    <span class="md-ellipsis">virtual_<wbr>read</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#virtual-read-alternating" class="md-nav__link">
    <span class="md-ellipsis">virtual_<wbr>read_<wbr>alternating</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#payload-available" class="md-nav__link">
    <span class="md-ellipsis">payload_<wbr>available</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#image-activated" class="md-nav__link">
    <span class="md-ellipsis">image_<wbr>activated</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#recovery-flow" class="md-nav__link">
    <span class="md-ellipsis">recovery_<wbr>flow</span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#recovery-bypass" class="md-nav__link">
    <span class="md-ellipsis">Recovery bypass</span>
  </a>
  
    <nav class="md-nav" aria-label="Recovery bypass">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#id40" class="md-nav__link">
    <span class="md-ellipsis">Testpoints</span>
  </a>
  
    <nav class="md-nav" aria-label="Testpoints">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#simple-write-read" class="md-nav__link">
    <span class="md-ellipsis">simple_<wbr>write_<wbr>read</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#check-csr-access" class="md-nav__link">
    <span class="md-ellipsis">check_<wbr>csr_<wbr>access</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#recovery-status-wires" class="md-nav__link">
    <span class="md-ellipsis">recovery_<wbr>status_<wbr>wires</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#indirect-fifo-overflow" class="md-nav__link">
    <span class="md-ellipsis">indirect_<wbr>fifo_<wbr>overflow</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#indirect-fifo-underflow" class="md-nav__link">
    <span class="md-ellipsis">indirect_<wbr>fifo_<wbr>underflow</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#i3c-bus-traffic-during-loopback" class="md-nav__link">
    <span class="md-ellipsis">i3c_<wbr>bus_<wbr>traffic_<wbr>during_<wbr>loopback</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#check-axi-filtering" class="md-nav__link">
    <span class="md-ellipsis">check_<wbr>axi_<wbr>filtering</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#id41" class="md-nav__link">
    <span class="md-ellipsis">recovery_<wbr>flow</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cptra-mcu-recovery" class="md-nav__link">
    <span class="md-ellipsis">cptra_<wbr>mcu_<wbr>recovery</span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#target-peripheral-reset" class="md-nav__link">
    <span class="md-ellipsis">target_<wbr>peripheral_<wbr>reset</span>
  </a>
  
    <nav class="md-nav" aria-label="target_peripheral_reset">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#id42" class="md-nav__link">
    <span class="md-ellipsis">Testpoints</span>
  </a>
  
    <nav class="md-nav" aria-label="Testpoints">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#id43" class="md-nav__link">
    <span class="md-ellipsis">target_<wbr>peripheral_<wbr>reset</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#target-escalated-reset" class="md-nav__link">
    <span class="md-ellipsis">target_<wbr>escalated_<wbr>reset</span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#compliance-test-suite" class="md-nav__link">
    <span class="md-ellipsis">Compliance test suite</span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
      

  
  
  
  
    <li class="md-nav__item">
      <a href="ext_cap.html" class="md-nav__link">
        <span class="md-ellipsis">Specification for I3C Vendor-<wbr>Specific Extended Capabilities</span>
      </a>
    </li>
  

    
      
      
      

  
  
  
  
    <li class="md-nav__item">
      <a href="recovery_flow.html" class="md-nav__link">
        <span class="md-ellipsis">Recovery flow</span>
      </a>
    </li>
  

    
      
      
      

  
  
  
  
    <li class="md-nav__item">
      <a href="axi_id_filtering.html" class="md-nav__link">
        <span class="md-ellipsis">AXI Transaction ID Filtering</span>
      </a>
    </li>
  

    
      
      
      

  
  
  
  
    <li class="md-nav__item">
      <a href="axi_recovery_flow.html" class="md-nav__link">
        <span class="md-ellipsis">AXI driven Caliptra recovery flow</span>
      </a>
    </li>
  

    
      
      
      

  
  
  
  
    <li class="md-nav__item">
      <a href="registers.html" class="md-nav__link">
        <span class="md-ellipsis">Register descriptions</span>
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset" role="main">
                  


<h1 id="design-verification">Design verification<a class="headerlink" href="#design-verification" title="Link to this heading"></a></h1>
<p>This chapter presents the available models and tools which are used for I3C verification.
The core is verified with <a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main/verification/cocotb/block">the Cocotb + unit tests</a> and <a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main/verification/uvm_i3c">the UVM test suite</a>.</p>
<p>This section contains testplans for the verification.</p>
<p>Definitions:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">testplan</span></code> - an organized collection of testpoints</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">testpoint</span></code> - an actionable item, which can be turned into a test:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">name</span></code> - typically related to the tested feature</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">desc</span></code> - detailed description; should contain description of the feature, configuration mode, stimuli, expected behavior.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">stage</span></code> - can be used to assign testpoints to milestones.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">tests</span></code> - names of implemented tests, which cover the testpoint. Relation test-testpoint can be many to many.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">tags</span></code> - additional tags that can be used to group testpoints</p></li>
</ul>
</li>
</ul>
<p>Full overview of tests can be found in <a class="external reference" href="./sim-results/index.html">Testplan summary</a>.</p>
<h2 id="testplans-for-individual-blocks">Testplans for individual blocks<a class="headerlink" href="#testplans-for-individual-blocks" title="Link to this heading"></a></h2>
<h3 id="axi-filtering">axi_filtering<a class="headerlink" href="#axi-filtering" title="Link to this heading"></a></h3>
<p><a class="external reference" href="./sim-results/axi_filtering.html">Test results</a></p>
<h4 id="testpoints">Testpoints<a class="headerlink" href="#testpoints" title="Link to this heading"></a></h4>
<h5 id="axi-filtering-disabled"><code class="docutils literal notranslate"><span class="pre">axi_filtering_disabled</span></code><a class="headerlink" href="#axi-filtering-disabled" title="Link to this heading"></a></h5>
<p>Tests:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/block/axi_adapter_id_filter/test_seq_csr_access.py#L43">read_hci_version_csr_id_filter_off</a></p></li>
<li><p><a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/block/axi_adapter_id_filter/test_seq_csr_access.py#L75">read_pio_section_offset_filter_off</a></p></li>
<li><p><a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/block/axi_adapter_id_filter/test_seq_csr_access.py#L113">write_to_controller_device_addr_filter_off</a></p></li>
<li><p><a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/block/axi_adapter_id_filter/test_seq_csr_access.py#L150">write_should_not_affect_ro_csr_filter_off</a></p></li>
<li><p><a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/block/axi_adapter_id_filter/test_seq_csr_access.py#L203">sequence_csr_read_filter_off</a></p></li>
<li><p><a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/block/axi_adapter_id_filter/test_seq_csr_access.py#L265">sequence_csr_write_filter_off</a></p></li>
<li><p><a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/block/axi_adapter_id_filter/test_bus_stress.py#L77">collision_with_write_id_filter_off</a></p></li>
<li><p><a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/block/axi_adapter_id_filter/test_bus_stress.py#L143">collision_with_read_id_filter_off</a></p></li>
<li><p><a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/block/axi_adapter_id_filter/test_bus_stress.py#L184">write_read_burst_id_filter_off</a></p></li>
<li><p><a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/block/axi_adapter_id_filter/test_bus_stress.py#L235">write_burst_collision_with_read_id_filter_off</a></p></li>
<li><p><a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/block/axi_adapter_id_filter/test_bus_stress.py#L296">read_burst_collision_with_write_id_filter_off</a></p></li>
</ul>
<p>Verifies CSR access is granted when the AXI filtering feature is disabled.
Verifies transaction response and contents.</p>
<h5 id="axi-filtering-priv"><code class="docutils literal notranslate"><span class="pre">axi_filtering_priv</span></code><a class="headerlink" href="#axi-filtering-priv" title="Link to this heading"></a></h5>
<p>Tests:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/block/axi_adapter_id_filter/test_seq_csr_access.py#L48">read_hci_version_csr_id_filter_on_priv</a></p></li>
<li><p><a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/block/axi_adapter_id_filter/test_seq_csr_access.py#L80">read_pio_section_offset_filter_on_priv</a></p></li>
<li><p><a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/block/axi_adapter_id_filter/test_seq_csr_access.py#L118">write_to_controller_device_addr_filter_on_priv</a></p></li>
<li><p><a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/block/axi_adapter_id_filter/test_seq_csr_access.py#L155">write_should_not_affect_ro_csr_filter_on_priv</a></p></li>
<li><p><a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/block/axi_adapter_id_filter/test_seq_csr_access.py#L208">sequence_csr_read_filter_on_priv</a></p></li>
<li><p><a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/block/axi_adapter_id_filter/test_seq_csr_access.py#L270">sequence_csr_write_filter_on_priv</a></p></li>
<li><p><a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/block/axi_adapter_id_filter/test_bus_stress.py#L82">collision_with_write_id_filter_on_priv</a></p></li>
<li><p><a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/block/axi_adapter_id_filter/test_bus_stress.py#L148">collision_with_read_id_filter_on_priv</a></p></li>
<li><p><a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/block/axi_adapter_id_filter/test_bus_stress.py#L189">write_read_burst_id_filter_on_priv</a></p></li>
<li><p><a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/block/axi_adapter_id_filter/test_bus_stress.py#L240">write_burst_collision_with_read_id_filter_on_priv</a></p></li>
<li><p><a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/block/axi_adapter_id_filter/test_bus_stress.py#L301">read_burst_collision_with_write_id_filter_on_priv</a></p></li>
</ul>
<p>Verifies CSR access is granted when the AXI filtering is enabled
and the transaction has a privileged ID.
Verifies transaction response and contents.</p>
<h5 id="axi-filtering-non-priv"><code class="docutils literal notranslate"><span class="pre">axi_filtering_non_priv</span></code><a class="headerlink" href="#axi-filtering-non-priv" title="Link to this heading"></a></h5>
<p>Tests:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/block/axi_adapter_id_filter/test_seq_csr_access.py#L54">read_hci_version_csr_id_filter_on_non_priv</a></p></li>
<li><p><a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/block/axi_adapter_id_filter/test_seq_csr_access.py#L87">read_pio_section_offset_filter_on_non_priv</a></p></li>
<li><p><a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/block/axi_adapter_id_filter/test_seq_csr_access.py#L125">write_to_controller_device_addr_filter_on_non_priv</a></p></li>
<li><p><a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/block/axi_adapter_id_filter/test_seq_csr_access.py#L162">write_should_not_affect_ro_csr_filter_on_non_priv</a></p></li>
<li><p><a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/block/axi_adapter_id_filter/test_seq_csr_access.py#L215">sequence_csr_read_filter_on_non_priv</a></p></li>
<li><p><a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/block/axi_adapter_id_filter/test_seq_csr_access.py#L277">sequence_csr_write_filter_on_non_priv</a></p></li>
<li><p><a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/block/axi_adapter_id_filter/test_bus_stress.py#L87">collision_with_write_id_filter_on_non_priv</a></p></li>
<li><p><a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/block/axi_adapter_id_filter/test_bus_stress.py#L153">collision_with_read_id_filter_on_non_priv</a></p></li>
<li><p><a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/block/axi_adapter_id_filter/test_bus_stress.py#L194">write_read_burst_id_filter_on_non_priv</a></p></li>
<li><p><a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/block/axi_adapter_id_filter/test_bus_stress.py#L245">write_burst_collision_with_read_id_filter_on_non_priv</a></p></li>
<li><p><a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/block/axi_adapter_id_filter/test_bus_stress.py#L306">read_burst_collision_with_write_id_filter_on_non_priv</a></p></li>
</ul>
<p>Verifies CSR access is denied when the AXI filtering feature is enabled
and the transaction ID doesnt match any of the privileged IDs.</p>
<h5 id="axi-filtering-mixed-priv"><code class="docutils literal notranslate"><span class="pre">axi_filtering_mixed_priv</span></code><a class="headerlink" href="#axi-filtering-mixed-priv" title="Link to this heading"></a></h5>
<p>Tests:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/block/axi_adapter_id_filter/test_bus_stress.py#L92">collision_with_write_id_filter_on_mixed</a></p></li>
<li><p><a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/block/axi_adapter_id_filter/test_bus_stress.py#L158">collision_with_read_id_filter_on_mixed</a></p></li>
<li><p><a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/block/axi_adapter_id_filter/test_bus_stress.py#L311">collision_with_write_mixed_priv</a></p></li>
<li><p><a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/block/axi_adapter_id_filter/test_bus_stress.py#L348">collision_with_read_mixed_priv</a></p></li>
</ul>
<p>Issues an ID-randomized colliding read and write transactions sequence.
Verifies AXI CSR access response for each separate transaction.
Ensures that access errors are raised only for unprivileged transactions.</p>
<h3 id="bus-monitor">bus_monitor<a class="headerlink" href="#bus-monitor" title="Link to this heading"></a></h3>
<p><a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/block/ctrl_bus_monitor/test_bus_monitor.py">Source file</a></p>
<p><a class="external reference" href="./sim-results/bus_monitor.html">Test results</a></p>
<h4 id="id1">Testpoints<a class="headerlink" href="#id1" title="Link to this heading"></a></h4>
<h5 id="id2"><code class="docutils literal notranslate"><span class="pre">bus_monitor</span></code><a class="headerlink" href="#id2" title="Link to this heading"></a></h5>
<p>Test: <a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/block/ctrl_bus_monitor/test_bus_monitor.py#L46">bus_monitor</a></p>
<p>Tests operation of the bus_monitor module along with its sub-modules.
Performs a number of I3C transactions between a simulated controller
and a simulated target. Counts start, repeated start and stop events
reported by bus_monitor. Verifies that the counts match whats expected.</p>
<h3 id="bus-rx-flow">bus_rx_flow<a class="headerlink" href="#bus-rx-flow" title="Link to this heading"></a></h3>
<p><a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/block/bus_rx_flow/test_bus_rx_flow.py">Source file</a></p>
<p><a class="external reference" href="./sim-results/bus_rx_flow.html">Test results</a></p>
<h4 id="id3">Testpoints<a class="headerlink" href="#id3" title="Link to this heading"></a></h4>
<h5 id="multiple-bit-reads"><code class="docutils literal notranslate"><span class="pre">multiple_bit_reads</span></code><a class="headerlink" href="#multiple-bit-reads" title="Link to this heading"></a></h5>
<p>Test: <a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/block/bus_rx_flow/test_bus_rx_flow.py#L57">multiple_bit_reads</a></p>
<p>Drives SCL line with a steady clock, issues multiple bit read
requests, verifies that the module returns correct data sampled
from the SDA line.</p>
<h5 id="multiple-byte-reads"><code class="docutils literal notranslate"><span class="pre">multiple_byte_reads</span></code><a class="headerlink" href="#multiple-byte-reads" title="Link to this heading"></a></h5>
<p>Test: <a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/block/bus_rx_flow/test_bus_rx_flow.py#L88">multiple_byte_reads</a></p>
<p>Drives SCL line with a steady clock, issues multiple byte read
requests, verifies that the module returns correct data sampled
from the SDA line.</p>
<h3 id="bus-timers">bus_timers<a class="headerlink" href="#bus-timers" title="Link to this heading"></a></h3>
<p><a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/block/ctrl_bus_timers/test_bus_timers.py">Source file</a></p>
<p><a class="external reference" href="./sim-results/bus_timers.html">Test results</a></p>
<h4 id="id4">Testpoints<a class="headerlink" href="#id4" title="Link to this heading"></a></h4>
<h5 id="get-status"><code class="docutils literal notranslate"><span class="pre">get_status</span></code><a class="headerlink" href="#get-status" title="Link to this heading"></a></h5>
<p>Test: <a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/block/ctrl_bus_timers/test_bus_timers.py#L24">bus_timers</a></p>
<p>Tests the bus_timers module responsible for tracking bus free,
idle and available states. Triggers the module and verifies if
the signals corresponding to bus states get asserted after the
required time period.</p>
<h3 id="bus-tx">bus_tx<a class="headerlink" href="#bus-tx" title="Link to this heading"></a></h3>
<p><a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/block/bus_tx/test_bus_tx.py">Source file</a></p>
<p><a class="external reference" href="./sim-results/bus_tx.html">Test results</a></p>
<h4 id="id5">Testpoints<a class="headerlink" href="#id5" title="Link to this heading"></a></h4>
<h5 id="bit-tx-negedge"><code class="docutils literal notranslate"><span class="pre">bit_tx_negedge</span></code><a class="headerlink" href="#bit-tx-negedge" title="Link to this heading"></a></h5>
<p>Test: bit_tx_negedge</p>
<p>Requests the bus_tx module to drive SDA right after SCL falling
edge. Checks if the requested bit value is driven correctly.</p>
<h5 id="bit-tx-pre-posedge"><code class="docutils literal notranslate"><span class="pre">bit_tx_pre_posedge</span></code><a class="headerlink" href="#bit-tx-pre-posedge" title="Link to this heading"></a></h5>
<p>Test: bit_tx_pre_posedge</p>
<p>Requests the bus_tx module to drive SDA just before SCL rising
edge. Checks if the requested bit value is driven correctly.</p>
<h5 id="bit-tx-high-level"><code class="docutils literal notranslate"><span class="pre">bit_tx_high_level</span></code><a class="headerlink" href="#bit-tx-high-level" title="Link to this heading"></a></h5>
<p>Test: bit_tx_high_level</p>
<p>Requests the bus_tx module to drive SDA just before SCL falling
edge. Checks if the requested bit value is driven correctly.</p>
<h5 id="bit-tx-low-level"><code class="docutils literal notranslate"><span class="pre">bit_tx_low_level</span></code><a class="headerlink" href="#bit-tx-low-level" title="Link to this heading"></a></h5>
<p>Test: bit_tx_low_level</p>
<p>Requests the bus_tx module to drive SDA when SCL in in stable
low state. Checks if the requested bit value is driven correctly.</p>
<h5 id="byte-tx"><code class="docutils literal notranslate"><span class="pre">byte_tx</span></code><a class="headerlink" href="#byte-tx" title="Link to this heading"></a></h5>
<p>Test: <a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/block/bus_tx/test_bus_tx.py#L214">byte_tx</a></p>
<p>Drives controls of the bus_tx module in a sequence which sends
a data byte plus T bit to the I3C bus. For each bit sent checks
if SDA is driven correctly and bus timings are met.</p>
<h3 id="bus-tx-flow">bus_tx_flow<a class="headerlink" href="#bus-tx-flow" title="Link to this heading"></a></h3>
<p><a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/block/bus_tx_flow/test_bus_tx_flow.py">Source file</a></p>
<p><a class="external reference" href="./sim-results/bus_tx_flow.html">Test results</a></p>
<h4 id="id6">Testpoints<a class="headerlink" href="#id6" title="Link to this heading"></a></h4>
<h5 id="id7"><code class="docutils literal notranslate"><span class="pre">bit_tx_negedge</span></code><a class="headerlink" href="#id7" title="Link to this heading"></a></h5>
<p>Test: bit_tx_negedge</p>
<p>Requests the bus_tx_flow module to drive SDA right after SCL falling
edge. Checks if the requested bit value is driven correctly.</p>
<h5 id="id8"><code class="docutils literal notranslate"><span class="pre">bit_tx_pre_posedge</span></code><a class="headerlink" href="#id8" title="Link to this heading"></a></h5>
<p>Test: bit_tx_pre_posedge</p>
<p>Requests the bus_tx_flow module to drive SDA just before SCL rising
edge. Checks if the requested bit value is driven correctly.</p>
<h5 id="id9"><code class="docutils literal notranslate"><span class="pre">bit_tx_high_level</span></code><a class="headerlink" href="#id9" title="Link to this heading"></a></h5>
<p>Test: bit_tx_high_level</p>
<p>Requests the bus_tx_flow module to drive SDA just before SCL falling
edge. Checks if the requested bit value is driven correctly.</p>
<h5 id="id10"><code class="docutils literal notranslate"><span class="pre">bit_tx_low_level</span></code><a class="headerlink" href="#id10" title="Link to this heading"></a></h5>
<p>Test: bit_tx_low_level</p>
<p>Requests the bus_tx_flow module to drive SDA when SCL in in stable
low state. Checks if the requested bit value is driven correctly.</p>
<h5 id="id11"><code class="docutils literal notranslate"><span class="pre">byte_tx</span></code><a class="headerlink" href="#id11" title="Link to this heading"></a></h5>
<p>Test: <a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/block/bus_tx/test_bus_tx.py#L214">byte_tx</a></p>
<p>Requests the bus_tx_flow module to transmit a data byte along with
T-bit. While the transmission is in progress samples SDA on rising
edges of SCL. Once the transmission finishes compares sampled data
with what was requested to be sent.</p>
<h3 id="ccc">ccc<a class="headerlink" href="#ccc" title="Link to this heading"></a></h3>
<p><a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/block/ccc/test_ccc.py">Source file</a></p>
<p><a class="external reference" href="./sim-results/ccc.html">Test results</a></p>
<h4 id="id12">Testpoints<a class="headerlink" href="#id12" title="Link to this heading"></a></h4>
<h5 id="id13"><code class="docutils literal notranslate"><span class="pre">ccc</span></code><a class="headerlink" href="#id13" title="Link to this heading"></a></h5>
<p>Test: <a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/block/ccc/test_ccc.py#L132">ccc</a></p>
<p>Instructs the ccc module to begin servicing GETSTATUS CCC. Feeds
data bytes and bits to the module via its bus_tx/bus_rx interfaces
to mimic actual I3C transaction. Checks if data bytes received
correspond to correct GETSTATUS CCC response.</p>
<h3 id="csr-sw-access">csr_sw_access<a class="headerlink" href="#csr-sw-access" title="Link to this heading"></a></h3>
<p><a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/block/lib_adapter/test_csr_sw_access.py">Source file</a></p>
<p><a class="external reference" href="./sim-results/csr_sw_access.html">Test results</a></p>
<h4 id="id14">Testpoints<a class="headerlink" href="#id14" title="Link to this heading"></a></h4>
<h5 id="read-hci-version-csr"><code class="docutils literal notranslate"><span class="pre">read_hci_version_csr</span></code><a class="headerlink" href="#read-hci-version-csr" title="Link to this heading"></a></h5>
<p>Test: <a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/block/lib_adapter/test_csr_sw_access.py#L74">read_hci_version_csr</a></p>
<p>Reads the HCI version CSR and verifies its content.</p>
<h5 id="read-pio-section-offset"><code class="docutils literal notranslate"><span class="pre">read_pio_section_offset</span></code><a class="headerlink" href="#read-pio-section-offset" title="Link to this heading"></a></h5>
<p>Test: <a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/block/lib_adapter/test_csr_sw_access.py#L87">read_pio_section_offset</a></p>
<p>Reads the PIO_SECTION_OFFSET CSR and verifies its content.</p>
<h5 id="write-to-controller-device-addr"><code class="docutils literal notranslate"><span class="pre">write_to_controller_device_addr</span></code><a class="headerlink" href="#write-to-controller-device-addr" title="Link to this heading"></a></h5>
<p>Test: <a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/block/lib_adapter/test_csr_sw_access.py#L97">write_to_controller_device_addr</a></p>
<p>Writes to the CONTROLLER_DEVICE_ADDR CSR and verifies if the write was successful.</p>
<h5 id="write-should-not-affect-ro-csr"><code class="docutils literal notranslate"><span class="pre">write_should_not_affect_ro_csr</span></code><a class="headerlink" href="#write-should-not-affect-ro-csr" title="Link to this heading"></a></h5>
<p>Test: <a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/block/lib_adapter/test_csr_sw_access.py#L111">write_should_not_affect_ro_csr</a></p>
<p>Writes to the HC_CAPABILITIES CSR which is read-only for software.
Verifies that the write did not succeed.</p>
<h5 id="sequence-csr-read"><code class="docutils literal notranslate"><span class="pre">sequence_csr_read</span></code><a class="headerlink" href="#sequence-csr-read" title="Link to this heading"></a></h5>
<p>Test: <a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/block/lib_adapter/test_csr_sw_access.py#L127">sequence_csr_read</a></p>
<p>Performs a sequence of CSR reads. Verifies that each one succeeds.</p>
<h5 id="sequence-csr-write"><code class="docutils literal notranslate"><span class="pre">sequence_csr_write</span></code><a class="headerlink" href="#sequence-csr-write" title="Link to this heading"></a></h5>
<p>Test: <a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/block/lib_adapter/test_csr_sw_access.py#L162">sequence_csr_write</a></p>
<p>Performs a sequence of CSR writes. Verifies that each one succeeds.</p>
<h3 id="descriptor-rx">descriptor_rx<a class="headerlink" href="#descriptor-rx" title="Link to this heading"></a></h3>
<p><a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/block/ctrl_descriptor_rx/test_descriptor_rx.py">Source file</a></p>
<p><a class="external reference" href="./sim-results/descriptor_rx.html">Test results</a></p>
<h4 id="id15">Testpoints<a class="headerlink" href="#id15" title="Link to this heading"></a></h4>
<h5 id="id16"><code class="docutils literal notranslate"><span class="pre">descriptor_rx</span></code><a class="headerlink" href="#id16" title="Link to this heading"></a></h5>
<p>Test: descriptor_rx</p>
<p>Tests the descriptor_rx module responsible for generating TTI RX
descriptors. The test sends N bytes to the module and verifies
that it emits a valid descriptor with data length set to N.</p>
<h3 id="descriptor-tx">descriptor_tx<a class="headerlink" href="#descriptor-tx" title="Link to this heading"></a></h3>
<p><a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/block/ctrl_descriptor_tx/test_descriptor_tx.py">Source file</a></p>
<p><a class="external reference" href="./sim-results/descriptor_tx.html">Test results</a></p>
<h4 id="id17">Testpoints<a class="headerlink" href="#id17" title="Link to this heading"></a></h4>
<h5 id="id18"><code class="docutils literal notranslate"><span class="pre">descriptor_tx</span></code><a class="headerlink" href="#id18" title="Link to this heading"></a></h5>
<p>Test: descriptor_tx</p>
<p>Tests the descriptor_tx module responsible for processing TTI TX
descriptors and controlling TTI data flow during I3C private
reads. Sends a descriptor to the module followed with the right
amount of data. Verifies that the module accepted the descriptor
and allowed the right amount of data bytes to pass through it.</p>
<h3 id="drivers">drivers<a class="headerlink" href="#drivers" title="Link to this heading"></a></h3>
<p><a class="external reference" href="./sim-results/drivers.html">Test results</a></p>
<h4 id="id19">Testpoints<a class="headerlink" href="#id19" title="Link to this heading"></a></h4>
<h5 id="test-drivers"><code class="docutils literal notranslate"><span class="pre">test_drivers</span></code><a class="headerlink" href="#test-drivers" title="Link to this heading"></a></h5>
<p>Test: drivers</p>
<p>Tests the I3C PHY module. Loops through all possible states of
SDA/SCL for OD and PP mode. Checks if driven data matches the
bus state.</p>
<h3 id="edge-detector">edge_detector<a class="headerlink" href="#edge-detector" title="Link to this heading"></a></h3>
<p><a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/block/ctrl_edge_detector/test_edge_detector.py">Source file</a></p>
<p><a class="external reference" href="./sim-results/edge_detector.html">Test results</a></p>
<h4 id="id20">Testpoints<a class="headerlink" href="#id20" title="Link to this heading"></a></h4>
<h5 id="pretrigger-with-delay"><code class="docutils literal notranslate"><span class="pre">pretrigger_with_delay</span></code><a class="headerlink" href="#pretrigger-with-delay" title="Link to this heading"></a></h5>
<p>Test: <a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/block/ctrl_edge_detector/test_edge_detector.py#L49">pretrigger_with_delay</a></p>
<p>Triggers the edge_detector module before an edge on a bus line,
emits the edge and counts clock cycles it takes the detector
to report the presence of the edge. Verifies that the count is
equal to the programmed delay.</p>
<h5 id="posttrigger-with-delay"><code class="docutils literal notranslate"><span class="pre">posttrigger_with_delay</span></code><a class="headerlink" href="#posttrigger-with-delay" title="Link to this heading"></a></h5>
<p>Test: <a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/block/ctrl_edge_detector/test_edge_detector.py#L72">posttrigger_with_delay</a></p>
<p>Emits an edge on the bus, triggers the edge_detector module after
the edge when the bus line is high. Counts clock cycles it takes
the detector to report the edge event. The output detect signal
is asserted only if the bus line signal is stable for the
programmed delay time since the assertion of the trigger signal.
Verifies that the number of counted cycles is equal the programmed
delay.</p>
<h5 id="trigger-with-delay"><code class="docutils literal notranslate"><span class="pre">trigger_with_delay</span></code><a class="headerlink" href="#trigger-with-delay" title="Link to this heading"></a></h5>
<p>Test: <a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/block/ctrl_edge_detector/test_edge_detector.py#L97">trigger_with_delay</a></p>
<p>Triggers the edge detector and emits a rising edge on a bus line
simultaneously. Counts clock cycles it takes the detector
to report the presence of the edge. Verifies that the count is
equal to the programmed delay.</p>
<h5 id="pretrigger-no-delay"><code class="docutils literal notranslate"><span class="pre">pretrigger_no_delay</span></code><a class="headerlink" href="#pretrigger-no-delay" title="Link to this heading"></a></h5>
<p>Test: <a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/block/ctrl_edge_detector/test_edge_detector.py#L121">pretrigger_no_delay</a></p>
<p>Triggers the edge_detector module before an edge on a bus line,
emits the edge and counts clock cycles it takes the detector
to report the presence of the edge. Verifies that the count is
zero as the configured delay is also set to 0.</p>
<h5 id="posttrigger-no-delay"><code class="docutils literal notranslate"><span class="pre">posttrigger_no_delay</span></code><a class="headerlink" href="#posttrigger-no-delay" title="Link to this heading"></a></h5>
<p>Test: <a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/block/ctrl_edge_detector/test_edge_detector.py#L144">posttrigger_no_delay</a></p>
<p>Triggers the edge_detector module when a bus line is high which
is after an edge. Counts clock cycles it takes the detector
to report the presence of the edge. Verifies that the count is
zero as the configured delay is also set to 0.</p>
<h5 id="trigger-no-delay"><code class="docutils literal notranslate"><span class="pre">trigger_no_delay</span></code><a class="headerlink" href="#trigger-no-delay" title="Link to this heading"></a></h5>
<p>Test: <a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/block/ctrl_edge_detector/test_edge_detector.py#L170">trigger_no_delay</a></p>
<p>Triggers the edge detector and emits a rising edge on a bus line
simultaneously. Counts clock cycles it takes the detector
to report the presence of the edge. Verifies that the count is
zero as the configured delay is also set to 0.</p>
<h3 id="flow-standby-i3c">flow_standby_i3c<a class="headerlink" href="#flow-standby-i3c" title="Link to this heading"></a></h3>
<p><a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/block/flow_standby_i3c/test_flow_standby_i3c.py">Source file</a></p>
<p><a class="external reference" href="./sim-results/flow_standby_i3c.html">Test results</a></p>
<h4 id="id21">Testpoints<a class="headerlink" href="#id21" title="Link to this heading"></a></h4>
<h5 id="rx"><code class="docutils literal notranslate"><span class="pre">rx</span></code><a class="headerlink" href="#rx" title="Link to this heading"></a></h5>
<p>Test: rx</p>
<p>Tests basic operation of the flow_standby_i3c module. The test
instantiates two tasks serving as BFMs for RX and TX queues.
Then it simulates bus start condition followed by data reception
ended by bus stop condition.</p>
<h3 id="hci-queues">hci_queues<a class="headerlink" href="#hci-queues" title="Link to this heading"></a></h3>
<p><a class="external reference" href="./sim-results/hci_queues.html">Test results</a></p>
<h4 id="id22">Testpoints<a class="headerlink" href="#id22" title="Link to this heading"></a></h4>
<h5 id="clear-on-nonempty-resp-queue"><code class="docutils literal notranslate"><span class="pre">clear_on_nonempty_resp_queue</span></code><a class="headerlink" href="#clear-on-nonempty-resp-queue" title="Link to this heading"></a></h5>
<p>Test: clear_on_nonempty_resp_queue</p>
<p>Writes to the HCI queue RESET_CONTROL CSR bit which causes HCI
command response queue to be cleared. Then, polls the CSR until the
bit gets cleared by the hardware. To check if the queue has been
cleared puts a descriptor to the queue and reads it back. It
should be the same descriptor.</p>
<h5 id="clear-on-nonempty-cmd-queue"><code class="docutils literal notranslate"><span class="pre">clear_on_nonempty_cmd_queue</span></code><a class="headerlink" href="#clear-on-nonempty-cmd-queue" title="Link to this heading"></a></h5>
<p>Test: clear_on_nonempty_cmd_queue</p>
<p>Puts a command descriptor to the HCI command queue. Writes to the
RESET_CONTROL CSR to the bit responsible for clearing the queue,
polls the CSR until the bit gets cleared by hardware. Verifies that
the queue got cleared by pushing and retrieving another descriptor
from the queue.</p>
<h5 id="clear-on-nonempty-rx-queue"><code class="docutils literal notranslate"><span class="pre">clear_on_nonempty_rx_queue</span></code><a class="headerlink" href="#clear-on-nonempty-rx-queue" title="Link to this heading"></a></h5>
<p>Test: clear_on_nonempty_rx_queue</p>
<p>Puts 10 data words to the HCI RX data queue. Writes to the
RESET_CONTROL CSR to the bit responsible for clearing the queue,
polls the CSR until the bit gets cleared by hardware. Puts and
gets another data word from the queue to check if it was cleared.</p>
<h5 id="clear-on-nonempty-tx-queue"><code class="docutils literal notranslate"><span class="pre">clear_on_nonempty_tx_queue</span></code><a class="headerlink" href="#clear-on-nonempty-tx-queue" title="Link to this heading"></a></h5>
<p>Test: clear_on_nonempty_tx_queue</p>
<p>Puts 10 data words to the HCI TX data queue. Writes to the
RESET_CONTROL CSR to the bit responsible for clearing the queue,
polls the CSR until the bit gets cleared by hardware. Puts and
gets another data word from the queue to check if it was cleared.</p>
<h5 id="clear-on-nonempty-ibi-queue"><code class="docutils literal notranslate"><span class="pre">clear_on_nonempty_ibi_queue</span></code><a class="headerlink" href="#clear-on-nonempty-ibi-queue" title="Link to this heading"></a></h5>
<p>Test: clear_on_nonempty_ibi_queue</p>
<p>Puts 10 data words to the HCI IBI queue. Writes to the
RESET_CONTROL CSR to the bit responsible for clearing the queue,
polls the CSR until the bit gets cleared by hardware. Puts and
gets another data word from the queue to check if it was cleared.</p>
<h5 id="cmd-capacity-status"><code class="docutils literal notranslate"><span class="pre">cmd_capacity_status</span></code><a class="headerlink" href="#cmd-capacity-status" title="Link to this heading"></a></h5>
<p>Test: cmd_capacity_status</p>
<p>Resets the HCI command queue and verifies that it is empty
afterwards.</p>
<h5 id="resp-capacity-status"><code class="docutils literal notranslate"><span class="pre">resp_capacity_status</span></code><a class="headerlink" href="#resp-capacity-status" title="Link to this heading"></a></h5>
<p>Test: resp_capacity_status</p>
<p>Resets the HCI response queue and verifies that it is empty
afterwards.</p>
<h5 id="rx-capacity-status"><code class="docutils literal notranslate"><span class="pre">rx_capacity_status</span></code><a class="headerlink" href="#rx-capacity-status" title="Link to this heading"></a></h5>
<p>Test: rx_capacity_status</p>
<p>Resets the HCI RX queue and verifies that it is empty
afterwards.</p>
<h5 id="tx-capacity-status"><code class="docutils literal notranslate"><span class="pre">tx_capacity_status</span></code><a class="headerlink" href="#tx-capacity-status" title="Link to this heading"></a></h5>
<p>Test: tx_capacity_status</p>
<p>Resets the HCI TX queue and verifies that it is empty
afterwards.</p>
<h5 id="ibi-capacity-status"><code class="docutils literal notranslate"><span class="pre">ibi_capacity_status</span></code><a class="headerlink" href="#ibi-capacity-status" title="Link to this heading"></a></h5>
<p>Test: ibi_capacity_status</p>
<p>Resets the HCI IBI queue and verifies that it is empty
afterwards.</p>
<h5 id="cmd-setup-threshold"><code class="docutils literal notranslate"><span class="pre">cmd_setup_threshold</span></code><a class="headerlink" href="#cmd-setup-threshold" title="Link to this heading"></a></h5>
<p>Test: cmd_setup_threshold</p>
<p>Writes the threshold to appropriate register for the HCI command
queue (QUEUE_THLD_CTRL or DATA_BUFFER_THLD_CTRL).
Verifies that an appropriate value has been written to the CSR.
Verifies the threshold signal assumes the correct value.</p>
<h5 id="resp-setup-threshold"><code class="docutils literal notranslate"><span class="pre">resp_setup_threshold</span></code><a class="headerlink" href="#resp-setup-threshold" title="Link to this heading"></a></h5>
<p>Test: resp_setup_threshold</p>
<p>Writes the threshold to appropriate register for the HCI response
queue (QUEUE_THLD_CTRL or DATA_BUFFER_THLD_CTRL).
Verifies that an appropriate value has been written to the CSR.
Verifies the threshold signal assumes the correct value.</p>
<h5 id="rx-setup-threshold"><code class="docutils literal notranslate"><span class="pre">rx_setup_threshold</span></code><a class="headerlink" href="#rx-setup-threshold" title="Link to this heading"></a></h5>
<p>Test: rx_setup_threshold</p>
<p>Writes the threshold to appropriate register for the HCI data RX
queue (QUEUE_THLD_CTRL or DATA_BUFFER_THLD_CTRL).
Verifies that an appropriate value has been written to the CSR.
Verifies the threshold signal assumes the correct value.</p>
<h5 id="tx-setup-threshold"><code class="docutils literal notranslate"><span class="pre">tx_setup_threshold</span></code><a class="headerlink" href="#tx-setup-threshold" title="Link to this heading"></a></h5>
<p>Test: tx_setup_threshold</p>
<p>Writes the threshold to appropriate register for the HCI data TX
queue (QUEUE_THLD_CTRL or DATA_BUFFER_THLD_CTRL).
Verifies that an appropriate value has been written to the CSR.
Verifies the threshold signal assumes the correct value.</p>
<h5 id="ibi-setup-threshold"><code class="docutils literal notranslate"><span class="pre">ibi_setup_threshold</span></code><a class="headerlink" href="#ibi-setup-threshold" title="Link to this heading"></a></h5>
<p>Test: ibi_setup_threshold</p>
<p>Writes the threshold to appropriate register for the HCI IBI
queue (QUEUE_THLD_CTRL or DATA_BUFFER_THLD_CTRL).
Verifies that an appropriate value has been written to the CSR.
Verifies the threshold signal assumes the correct value.</p>
<h5 id="resp-should-raise-thld-trig"><code class="docutils literal notranslate"><span class="pre">resp_should_raise_thld_trig</span></code><a class="headerlink" href="#resp-should-raise-thld-trig" title="Link to this heading"></a></h5>
<p>Test: resp_should_raise_thld_trig</p>
<p>Sets up a ready threshold of the read queue and checks whether the
trigger signal is properly asserted at different levels of the
queue fill.</p>
<h5 id="rx-should-raise-thld-trig"><code class="docutils literal notranslate"><span class="pre">rx_should_raise_thld_trig</span></code><a class="headerlink" href="#rx-should-raise-thld-trig" title="Link to this heading"></a></h5>
<p>Test: rx_should_raise_thld_trig</p>
<p>Sets up a ready and start thresholds of the read queue and checks
whether the trigger signals are properly asserted at different
levels of the queue fill.</p>
<h5 id="ibi-should-raise-thld-trig"><code class="docutils literal notranslate"><span class="pre">ibi_should_raise_thld_trig</span></code><a class="headerlink" href="#ibi-should-raise-thld-trig" title="Link to this heading"></a></h5>
<p>Test: ibi_should_raise_thld_trig</p>
<p>Sets up a ready threshold of the read queue and checks whether the
trigger signal is properly asserted at different levels of the
queue fill.</p>
<h5 id="cmd-should-raise-thld-trig"><code class="docutils literal notranslate"><span class="pre">cmd_should_raise_thld_trig</span></code><a class="headerlink" href="#cmd-should-raise-thld-trig" title="Link to this heading"></a></h5>
<p>Test: cmd_should_raise_thld_trig</p>
<p>Sets up a ready threshold of the write queue and checks whether
the trigger is properly asserted at different levels of the queue
fill.</p>
<h5 id="tx-should-raise-thld-trig"><code class="docutils literal notranslate"><span class="pre">tx_should_raise_thld_trig</span></code><a class="headerlink" href="#tx-should-raise-thld-trig" title="Link to this heading"></a></h5>
<p>Test: tx_should_raise_thld_trig</p>
<p>Sets up a ready and start threshold of the write queue and checks
whether the trigger is properly asserted at different levels of
the queue fill.</p>
<h3 id="i3c-bus-monitor">i3c_bus_monitor<a class="headerlink" href="#i3c-bus-monitor" title="Link to this heading"></a></h3>
<p><a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/block/ctrl_i3c_bus_monitor/test_i3c_bus_monitor.py">Source file</a></p>
<p><a class="external reference" href="./sim-results/i3c_bus_monitor.html">Test results</a></p>
<h4 id="id23">Testpoints<a class="headerlink" href="#id23" title="Link to this heading"></a></h4>
<h5 id="bus-monitor-hdr-exit"><code class="docutils literal notranslate"><span class="pre">bus_monitor_hdr_exit</span></code><a class="headerlink" href="#bus-monitor-hdr-exit" title="Link to this heading"></a></h5>
<p>Test: <a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/block/ctrl_i3c_bus_monitor/test_i3c_bus_monitor.py#L48">bus_monitor_hdr_exit</a></p>
<p>Verifies that the i3c_bus_monitor module correctly detects HDR
exit pattern. Sends the HDR exit pattern and verifies that the
module does not react - initially the bus is in SDR mode. Instructs
the module that the bus has entered HDR mode, issues the HDR exit
pattern and counts the number of times the module reported HDR
exit. Checks if it reported exactly one HDR exit event.</p>
<h5 id="target-reset-detection"><code class="docutils literal notranslate"><span class="pre">target_reset_detection</span></code><a class="headerlink" href="#target-reset-detection" title="Link to this heading"></a></h5>
<p>Test: <a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/block/ctrl_i3c_bus_monitor/test_i3c_bus_monitor.py#L94">target_reset_detection</a></p>
<p>Issues a target reset pattern to the I3C bus, verifies that the
i3c_bus_monitor correctly report it detected.</p>
<h3 id="pec">pec<a class="headerlink" href="#pec" title="Link to this heading"></a></h3>
<p><a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/block/recovery_pec/test_pec.py">Source file</a></p>
<p><a class="external reference" href="./sim-results/pec.html">Test results</a></p>
<h4 id="id24">Testpoints<a class="headerlink" href="#id24" title="Link to this heading"></a></h4>
<h5 id="id25"><code class="docutils literal notranslate"><span class="pre">pec</span></code><a class="headerlink" href="#id25" title="Link to this heading"></a></h5>
<p>Test: <a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/block/recovery_pec/test_pec.py#L13">pec</a></p>
<p>Pushes random bytes through the recovery_pec module, compares
its computed checksum with its correspondent computed in software.</p>
<h3 id="tti-queues">tti_queues<a class="headerlink" href="#tti-queues" title="Link to this heading"></a></h3>
<p><a class="external reference" href="./sim-results/tti_queues.html">Test results</a></p>
<h4 id="id26">Testpoints<a class="headerlink" href="#id26" title="Link to this heading"></a></h4>
<h5 id="tti-tx-capacity-status"><code class="docutils literal notranslate"><span class="pre">tti_tx_capacity_status</span></code><a class="headerlink" href="#tti-tx-capacity-status" title="Link to this heading"></a></h5>
<p>Test: <a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/block/lib_hci_queues/test_empty_tti.py#L24">tti_tx_capacity_status</a></p>
<p>Resets the TTI TX queue and verifies that it is empty
afterwards.</p>
<h5 id="tti-tx-desc-capacity-status"><code class="docutils literal notranslate"><span class="pre">tti_tx_desc_capacity_status</span></code><a class="headerlink" href="#tti-tx-desc-capacity-status" title="Link to this heading"></a></h5>
<p>Test: <a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/block/lib_hci_queues/test_empty_tti.py#L9">tti_tx_desc_capacity_status</a></p>
<p>Resets the TTI TX descriptor queue and verifies that it is empty
afterwards.</p>
<h5 id="tti-rx-capacity-status"><code class="docutils literal notranslate"><span class="pre">tti_rx_capacity_status</span></code><a class="headerlink" href="#tti-rx-capacity-status" title="Link to this heading"></a></h5>
<p>Test: <a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/block/lib_hci_queues/test_empty_tti.py#L14">tti_rx_capacity_status</a></p>
<p>Resets the TTI RX queue and verifies that it is empty
afterwards.</p>
<h5 id="tti-rx-desc-capacity-status"><code class="docutils literal notranslate"><span class="pre">tti_rx_desc_capacity_status</span></code><a class="headerlink" href="#tti-rx-desc-capacity-status" title="Link to this heading"></a></h5>
<p>Test: <a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/block/lib_hci_queues/test_empty_tti.py#L19">tti_rx_desc_capacity_status</a></p>
<p>Resets the TTI RX descriptor queue and verifies that it is empty
afterwards.</p>
<h5 id="tti-tx-setup-threshold"><code class="docutils literal notranslate"><span class="pre">tti_tx_setup_threshold</span></code><a class="headerlink" href="#tti-tx-setup-threshold" title="Link to this heading"></a></h5>
<p>Test: <a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/block/lib_hci_queues/test_threshold_tti.py#L35">tti_tx_setup_threshold</a></p>
<p>Writes the threshold to appropriate register for the TTI data TX
queue (QUEUE_THLD_CTRL or DATA_BUFFER_THLD_CTRL).
Verifies that an appropriate value has been written to the CSR.
Verifies the threshold signal assumes the correct value.</p>
<h5 id="tti-tx-desc-setup-threshold"><code class="docutils literal notranslate"><span class="pre">tti_tx_desc_setup_threshold</span></code><a class="headerlink" href="#tti-tx-desc-setup-threshold" title="Link to this heading"></a></h5>
<p>Test: <a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/block/lib_hci_queues/test_threshold_tti.py#L21">tti_tx_desc_setup_threshold</a></p>
<p>Writes the threshold to appropriate register for the TTI descriptor TX
queue (QUEUE_THLD_CTRL or DATA_BUFFER_THLD_CTRL).
Verifies that an appropriate value has been written to the CSR.
Verifies the threshold signal assumes the correct value.</p>
<h5 id="tti-rx-setup-threshold"><code class="docutils literal notranslate"><span class="pre">tti_rx_setup_threshold</span></code><a class="headerlink" href="#tti-rx-setup-threshold" title="Link to this heading"></a></h5>
<p>Test: <a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/block/lib_hci_queues/test_threshold_tti.py#L27">tti_rx_setup_threshold</a></p>
<p>Writes the threshold to appropriate register for the TTI data RX
queue (QUEUE_THLD_CTRL or DATA_BUFFER_THLD_CTRL).
Verifies that an appropriate value has been written to the CSR.
Verifies the threshold signal assumes the correct value.</p>
<h5 id="tti-rx-desc-setup-threshold"><code class="docutils literal notranslate"><span class="pre">tti_rx_desc_setup_threshold</span></code><a class="headerlink" href="#tti-rx-desc-setup-threshold" title="Link to this heading"></a></h5>
<p>Test: <a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/block/lib_hci_queues/test_threshold_tti.py#L43">tti_rx_desc_setup_threshold</a></p>
<p>Writes the threshold to appropriate register for the TTI descriptor RX
queue (QUEUE_THLD_CTRL or DATA_BUFFER_THLD_CTRL).
Verifies that an appropriate value has been written to the CSR.
Verifies the threshold signal assumes the correct value.</p>
<h5 id="tti-ibi-setup-threshold"><code class="docutils literal notranslate"><span class="pre">tti_ibi_setup_threshold</span></code><a class="headerlink" href="#tti-ibi-setup-threshold" title="Link to this heading"></a></h5>
<p>Test: <a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/block/lib_hci_queues/test_threshold_tti.py#L49">tti_ibi_setup_threshold</a></p>
<p>Writes the threshold to appropriate register for the TTI IBI
queue (QUEUE_THLD_CTRL or DATA_BUFFER_THLD_CTRL).
Verifies that an appropriate value has been written to the CSR.
Verifies the threshold signal assumes the correct value.</p>
<h5 id="tti-ibi-should-raise-thld-trig"><code class="docutils literal notranslate"><span class="pre">tti_ibi_should_raise_thld_trig</span></code><a class="headerlink" href="#tti-ibi-should-raise-thld-trig" title="Link to this heading"></a></h5>
<p>Test: <a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/block/lib_hci_queues/test_threshold_tti.py#L87">tti_ibi_should_raise_thld_trig</a></p>
<p>Sets up a ready threshold of the TTI queue and checks whether the
trigger signal is properly asserted at different levels of the
queue fill.</p>
<h5 id="tti-rx-desc-should-raise-thld-trig"><code class="docutils literal notranslate"><span class="pre">tti_rx_desc_should_raise_thld_trig</span></code><a class="headerlink" href="#tti-rx-desc-should-raise-thld-trig" title="Link to this heading"></a></h5>
<p>Test: <a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/block/lib_hci_queues/test_threshold_tti.py#L55">tti_rx_desc_should_raise_thld_trig</a></p>
<p>Sets up a ready threshold of the read queue and checks whether the
trigger signal is properly asserted at different levels of the
queue fill.</p>
<h5 id="id27"><code class="docutils literal notranslate"><span class="pre">rx_should_raise_thld_trig</span></code><a class="headerlink" href="#id27" title="Link to this heading"></a></h5>
<p>Test: rx_should_raise_thld_trig</p>
<p>Sets up a ready and start thresholds of the read queue and checks
whether the trigger signals are properly asserted at different
levels of the queue fill.</p>
<h5 id="tx-desc-should-raise-thld-trig"><code class="docutils literal notranslate"><span class="pre">tx_desc_should_raise_thld_trig</span></code><a class="headerlink" href="#tx-desc-should-raise-thld-trig" title="Link to this heading"></a></h5>
<p>Test: <a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/block/lib_hci_queues/test_threshold_tti.py#L69">tti_tx_desc_should_raise_thld_trig</a></p>
<p>Sets up a ready and start threshold of the write queue and checks
whether the trigger is properly asserted at different levels of
the queue fill.</p>
<h5 id="id28"><code class="docutils literal notranslate"><span class="pre">tx_should_raise_thld_trig</span></code><a class="headerlink" href="#id28" title="Link to this heading"></a></h5>
<p>Test: tx_should_raise_thld_trig</p>
<p>Sets up a ready and start threshold of the write queue and checks
whether the trigger is properly asserted at different levels of
the queue fill.</p>
<h5 id="id29"><code class="docutils literal notranslate"><span class="pre">ibi_should_raise_thld_trig</span></code><a class="headerlink" href="#id29" title="Link to this heading"></a></h5>
<p>Test: ibi_should_raise_thld_trig</p>
<p>Sets up a ready and start threshold of the write queue and checks
whether the trigger is properly asserted at different levels of
the queue fill.</p>
<h5 id="tti-ibi-capacity-status"><code class="docutils literal notranslate"><span class="pre">tti_ibi_capacity_status</span></code><a class="headerlink" href="#tti-ibi-capacity-status" title="Link to this heading"></a></h5>
<p>Test: <a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/block/lib_hci_queues/test_empty_tti.py#L29">tti_ibi_capacity_status</a></p>
<p>Resets the TTI TX IBI queue and verifies that it is empty
afterwards.</p>
<h3 id="width-converter-8ton">width_converter_8toN<a class="headerlink" href="#width-converter-8ton" title="Link to this heading"></a></h3>
<p><a class="external reference" href="./sim-results/width_converter_8toN.html">Test results</a></p>
<h4 id="id30">Testpoints<a class="headerlink" href="#id30" title="Link to this heading"></a></h4>
<h5 id="converter"><code class="docutils literal notranslate"><span class="pre">converter</span></code><a class="headerlink" href="#converter" title="Link to this heading"></a></h5>
<p>Test: <a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/block/width_converter_8toN/test_converter.py#L56">width_converter_8ton_converter</a></p>
<p>Pushes random byte stream to the converter module. After each
byte waits at random. Simultaneously receives N-bit data words
and generates pushback (deasserts ready) at random. Verifies if
the output data matches the input.</p>
<h5 id="flush"><code class="docutils literal notranslate"><span class="pre">flush</span></code><a class="headerlink" href="#flush" title="Link to this heading"></a></h5>
<p>Test: <a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/block/width_converter_8toN/test_flush.py#L60">width_converter_8ton_flush</a></p>
<p>Feeds M bytes to the module where M is in [1, 2, 3]. Asserts the
sink_flush_i signal, receives the output word and checks if it
matches the input data.</p>
<h3 id="width-converter-nto8">width_converter_Nto8<a class="headerlink" href="#width-converter-nto8" title="Link to this heading"></a></h3>
<p><a class="external reference" href="./sim-results/width_converter_Nto8.html">Test results</a></p>
<h4 id="id31">Testpoints<a class="headerlink" href="#id31" title="Link to this heading"></a></h4>
<h5 id="id32"><code class="docutils literal notranslate"><span class="pre">converter</span></code><a class="headerlink" href="#id32" title="Link to this heading"></a></h5>
<p>Test: <a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/block/width_converter_Nto8/test_converter.py#L56">width_converter_nto8_converter</a></p>
<p>Pushes random N-bit word stream to the converter module. After each
word waits at random. Simultaneously receives bytes and generates
pushback (deasserts ready) at random. Verifies if the output data
matches the input.</p>
<h5 id="id33"><code class="docutils literal notranslate"><span class="pre">flush</span></code><a class="headerlink" href="#id33" title="Link to this heading"></a></h5>
<p>Test: <a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/block/width_converter_Nto8/test_flush.py#L54">width_converter_nto8_flush</a></p>
<p>Feeds an N-bit word to the module. Receives M bytes where M is in
[1, 2, 3] and asserts source_flush_i. Verifies that the module
ceases to output data as expected.</p>
<h2 id="testplans-for-the-core">Testplans for the core<a class="headerlink" href="#testplans-for-the-core" title="Link to this heading"></a></h2>
<h3 id="target">Target<a class="headerlink" href="#target" title="Link to this heading"></a></h3>
<p><a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/top/lib_i3c_top/test_i3c_target.py">Source file</a></p>
<p><a class="external reference" href="./sim-results/target.html">Test results</a></p>
<h4 id="id34">Testpoints<a class="headerlink" href="#id34" title="Link to this heading"></a></h4>
<h5 id="i3c-target-write"><code class="docutils literal notranslate"><span class="pre">i3c_target_write</span></code><a class="headerlink" href="#i3c-target-write" title="Link to this heading"></a></h5>
<p>Test: i3c_target_write</p>
<p>Spawns a TTI agent that reads from TTI descriptor and data queues
and stores received data.</p>
<p>While the agent is running the test issues several private writes
over I3C. Data sent over I3C is compared with data received by
the agent.</p>
<p>The test runs at core clock of 100 and 200 MHz. The slowest clock that does not result in a tSCO violation is 166 MHz.
The I3C bus clock is set to 12.5 MHz.</p>
<h5 id="i3c-target-read"><code class="docutils literal notranslate"><span class="pre">i3c_target_read</span></code><a class="headerlink" href="#i3c-target-read" title="Link to this heading"></a></h5>
<p>Test: i3c_target_read</p>
<p>Writes a data chunk and its descriptor to TTI TX queues, issues
an I3C private read transfer. Verifies that the data matches.
Repeats the two steps N times.</p>
<p>Writes N data chunks and their descriptors to TTI TX queues,
issues N private read transfers over I3C. For each one verifies
that data matches.</p>
<p>Writes a data chunk and its descriptor to TTI TX queues, issues
an I3C private read transfer which is shorter than the length of
the chunk. Verifies that the received data matches with the chunk.
Repeats the steps N times.</p>
<p>The test runs at core clock of 100 and 200 MHz. The slowest clock that does not result in a tSCO violation is 166 MHz.
The I3C bus clock is set to 12.5 MHz.</p>
<h5 id="i3c-target-ibi"><code class="docutils literal notranslate"><span class="pre">i3c_target_ibi</span></code><a class="headerlink" href="#i3c-target-ibi" title="Link to this heading"></a></h5>
<p>Test: i3c_target_ibi</p>
<p>Writes an IBI descriptor to the TTI IBI queue. Waits until the
controller services the IBI. Checks if the mandatory byte (MDB)
matches on both sides.</p>
<p>Reads the LAST_IBI_STATUS fields of the TTI STATUS CSR. Ensures
that it is equal to 0 (no error).</p>
<p>Writes an IBI descriptor followed by N bytes of data to the TTI
IBI queue. Waits until the controller services the IBI. Checks if
the mandatory byte (MDB) and data matches on both sides.</p>
<p>Repeats the LAST_IBI_STATUS check.</p>
<p>The test runs at core clock of 100 and 200 MHz. The slowest clock that does not result in a tSCO violation is 166 MHz.
The I3C bus clock is set to 12.5 MHz.</p>
<h5 id="i3c-target-ibi-retry"><code class="docutils literal notranslate"><span class="pre">i3c_target_ibi_retry</span></code><a class="headerlink" href="#i3c-target-ibi-retry" title="Link to this heading"></a></h5>
<p>Test: i3c_target_ibi_retry</p>
<p>Disables ACK-ing IBIs in the I3C controller model, issues an IBI
from the target by writing to TTI IBI queue. Waits for a fixed
time period - sufficiently long for the target to retry sending
the IBI, reads LAST_IBI_STATUS from the TTI STATUS CSR, check
if it is set to 3 (IBI retry).</p>
<p>Re-enables ACK-ing of IBIs in the controller model, waits for the
model to service the IBI, compares the IBI mandatory byte (MDB)
with the one written to the TTI queue. Reads LAST_IBI_STATUS from
the TTI STATUS CSR, check if it is set to 0 (no error).</p>
<p>The test runs at core clock of 100 and 200 MHz. The slowest clock that does not result in a tSCO violation is 166 MHz.
The I3C bus clock is set to 12.5 MHz.</p>
<h5 id="i3c-target-ibi-data"><code class="docutils literal notranslate"><span class="pre">i3c_target_ibi_data</span></code><a class="headerlink" href="#i3c-target-ibi-data" title="Link to this heading"></a></h5>
<p>Test: i3c_target_ibi_data</p>
<p>Sets a limit on how many IBI data bytes may be accepted in the
controller model. Issues an IBI with more data bytes by writing
to the TTI IBI queue, checks if the IBI gets serviced correctly,
compares data.</p>
<p>Issues another IBI with data payload within the set limit, checks
if it gets serviced correctly, compares data.</p>
<p>The test runs at core clock of 100 and 200 MHz. The slowest clock that does not result in a tSCO violation is 166 MHz.
The I3C bus clock is set to 12.5 MHz.</p>
<h5 id="i3c-target-writes-and-reads"><code class="docutils literal notranslate"><span class="pre">i3c_target_writes_and_reads</span></code><a class="headerlink" href="#i3c-target-writes-and-reads" title="Link to this heading"></a></h5>
<p>Test: i3c_target_writes_and_reads</p>
<p>Writes a randomized data chunk to the TTI TX data queue, writes
a corresponding descriptor to the TTI TX descriptor queue.</p>
<p>Issues private write transfers to the target with randomized
payloads, waits until a TTI interrupt is set by polling TTI
INTERRUPT_STATUS CSR. Reads received data from TTI RX queues,
compares it with what has been sent.</p>
<p>Does a private read transfer, compares if the received data equals
the data written to TTI TX queue in the beginning of the test.</p>
<p>The test runs at core clock of 100 and 200 MHz. The slowest clock that does not result in a tSCO violation is 166 MHz.
The I3C bus clock is set to 12.5 MHz.</p>
<h3 id="ccc-handling">CCC handling<a class="headerlink" href="#ccc-handling" title="Link to this heading"></a></h3>
<p><a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/top/lib_i3c_top/test_ccc.py">Source file</a></p>
<p><a class="external reference" href="./sim-results/target_ccc.html">Test results</a></p>
<h4 id="id35">Testpoints<a class="headerlink" href="#id35" title="Link to this heading"></a></h4>
<h5 id="ccc-getstatus"><code class="docutils literal notranslate"><span class="pre">ccc_getstatus</span></code><a class="headerlink" href="#ccc-getstatus" title="Link to this heading"></a></h5>
<p>Test: <a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/top/lib_i3c_top/test_ccc.py#L45">ccc_getstatus</a></p>
<p>The test reads PENDING_INTERRUPT field from the TTI INTERRUPT
status CSR. Next, it issues the GETSTATUS directed CCC to the
target. Finally it compares the interrupt status returned by the
CCC with the one read from the register.</p>
<h5 id="ccc-setdasa"><code class="docutils literal notranslate"><span class="pre">ccc_setdasa</span></code><a class="headerlink" href="#ccc-setdasa" title="Link to this heading"></a></h5>
<p>Test: <a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/top/lib_i3c_top/test_ccc.py#L78">ccc_setdasa</a></p>
<p>The test sets dynamic address and virtual dynamic address by
sending SETDASA CCC. Then it verifies that correct addresses have
been set by reading STBY_CR_DEVICE_ADDR CSR.</p>
<h5 id="ccc-rstdaa"><code class="docutils literal notranslate"><span class="pre">ccc_rstdaa</span></code><a class="headerlink" href="#ccc-rstdaa" title="Link to this heading"></a></h5>
<p>Test: <a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/top/lib_i3c_top/test_ccc.py#L190">ccc_rstdaa</a></p>
<p>Sets dynamic address via STBY_CR_DEVICE_ADDR CSR, then sends
RSTDAA CCC and verifies that the address got cleared.</p>
<h5 id="ccc-getbcr"><code class="docutils literal notranslate"><span class="pre">ccc_getbcr</span></code><a class="headerlink" href="#ccc-getbcr" title="Link to this heading"></a></h5>
<p>Test: <a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/top/lib_i3c_top/test_ccc.py#L225">ccc_getbcr</a></p>
<p>Reads BCR register content by sending GETBCR CCC and examining
returned data.</p>
<h5 id="ccc-getdcr"><code class="docutils literal notranslate"><span class="pre">ccc_getdcr</span></code><a class="headerlink" href="#ccc-getdcr" title="Link to this heading"></a></h5>
<p>Test: <a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/top/lib_i3c_top/test_ccc.py#L242">ccc_getdcr</a></p>
<p>Reads DCR register content by sending GETDCR CCC and examining
returned data.</p>
<h5 id="ccc-getmwl"><code class="docutils literal notranslate"><span class="pre">ccc_getmwl</span></code><a class="headerlink" href="#ccc-getmwl" title="Link to this heading"></a></h5>
<p>Test: <a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/top/lib_i3c_top/test_ccc.py#L257">ccc_getmwl</a></p>
<p>Reads MWL register content by sending GETMWL CCC and examining
returned data.</p>
<h5 id="ccc-getmrl"><code class="docutils literal notranslate"><span class="pre">ccc_getmrl</span></code><a class="headerlink" href="#ccc-getmrl" title="Link to this heading"></a></h5>
<p>Test: <a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/top/lib_i3c_top/test_ccc.py#L274">ccc_getmrl</a></p>
<p>Reads MRL register content by sending GETMWL CCC and examining
returned data.</p>
<h5 id="ccc-setaasa"><code class="docutils literal notranslate"><span class="pre">ccc_setaasa</span></code><a class="headerlink" href="#ccc-setaasa" title="Link to this heading"></a></h5>
<p>Test: <a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/top/lib_i3c_top/test_ccc.py#L292">ccc_setaasa</a></p>
<p>Issues the broadcast SETAASA CCC and checks if the target uses
its static address as dynamic by examining STBY_CR_DEVICE_ADDR
CSR.</p>
<h5 id="ccc-getpid"><code class="docutils literal notranslate"><span class="pre">ccc_getpid</span></code><a class="headerlink" href="#ccc-getpid" title="Link to this heading"></a></h5>
<p>Test: <a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/top/lib_i3c_top/test_ccc.py#L314">ccc_getpid</a></p>
<p>Sends the CCC to the target and examines if the returned PID
matches the expected.</p>
<h5 id="ccc-enec-disec-direct"><code class="docutils literal notranslate"><span class="pre">ccc_enec_disec_direct</span></code><a class="headerlink" href="#ccc-enec-disec-direct" title="Link to this heading"></a></h5>
<p>Test: <a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/top/lib_i3c_top/test_ccc.py#L346">ccc_enec_disec_direct</a></p>
<p>Sends DISEC CCC to the target and verifies that events are disabled.
Then, sends ENEC CCC to the target and checks that events are enabled.</p>
<h5 id="ccc-enec-disec-bcast"><code class="docutils literal notranslate"><span class="pre">ccc_enec_disec_bcast</span></code><a class="headerlink" href="#ccc-enec-disec-bcast" title="Link to this heading"></a></h5>
<p>Test: <a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/top/lib_i3c_top/test_ccc.py#L379">ccc_enec_disec_bcast</a></p>
<p>Sends broadcast DISEC CCC and verifies that events are disabled.
Then, sends broadcast ENEC CCC and checks that events are enabled.</p>
<h5 id="ccc-setmwl-direct"><code class="docutils literal notranslate"><span class="pre">ccc_setmwl_direct</span></code><a class="headerlink" href="#ccc-setmwl-direct" title="Link to this heading"></a></h5>
<p>Test: <a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/top/lib_i3c_top/test_ccc.py#L408">ccc_setmwl_direct</a></p>
<p>Sends directed SETMWL CCC to the target and verifies that the
register got correctly set. The check is performed by examining
relevant wires in the target DUT.</p>
<h5 id="ccc-setmrl-direct"><code class="docutils literal notranslate"><span class="pre">ccc_setmrl_direct</span></code><a class="headerlink" href="#ccc-setmrl-direct" title="Link to this heading"></a></h5>
<p>Test: <a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/top/lib_i3c_top/test_ccc.py#L426">ccc_setmrl_direct</a></p>
<p>Sends directed SETMRL CCC to the target and verifies that the
register got correctly set. The check is performed by examining
relevant wires in the target DUT.</p>
<h5 id="ccc-setmwl-bcast"><code class="docutils literal notranslate"><span class="pre">ccc_setmwl_bcast</span></code><a class="headerlink" href="#ccc-setmwl-bcast" title="Link to this heading"></a></h5>
<p>Test: <a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/top/lib_i3c_top/test_ccc.py#L444">ccc_setmwl_bcast</a></p>
<p>Sends broadcast SETMWL CCC and verifies that the
register got correctly set. The check is performed by examining
relevant wires in the target DUT.</p>
<h5 id="ccc-setmrl-bcast"><code class="docutils literal notranslate"><span class="pre">ccc_setmrl_bcast</span></code><a class="headerlink" href="#ccc-setmrl-bcast" title="Link to this heading"></a></h5>
<p>Test: <a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/top/lib_i3c_top/test_ccc.py#L462">ccc_setmrl_bcast</a></p>
<p>Sends SETMRL CCC and verifies that the
register got correctly set. The check is performed by examining
relevant wires in the target DUT.</p>
<h5 id="ccc-rstact-direct"><code class="docutils literal notranslate"><span class="pre">ccc_rstact_direct</span></code><a class="headerlink" href="#ccc-rstact-direct" title="Link to this heading"></a></h5>
<p>Test: <a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/top/lib_i3c_top/test_ccc.py#L480">ccc_rstact_direct</a></p>
<p>Sends directed RSTACT CCC to the target followed by reset pattern
and checks if reset action was stored correctly. The check is
done by examining DUT wires. Then, triggers target reset and
verifies that the peripheral_reset_o signal gets asserted.</p>
<h5 id="ccc-rstact-bcast"><code class="docutils literal notranslate"><span class="pre">ccc_rstact_bcast</span></code><a class="headerlink" href="#ccc-rstact-bcast" title="Link to this heading"></a></h5>
<p>Test: <a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/top/lib_i3c_top/test_ccc.py#L510">ccc_rstact_bcast</a></p>
<p>Sends directed RSTACT CCC to the target followed by reset pattern
and checks if reset action was stored correctly. The check is
done by examining DUT wires. Then, triggers target reset and
verifies that the escalated_reset_o signal gets asserted.</p>
<h5 id="ccc-direct-multiple-wr"><code class="docutils literal notranslate"><span class="pre">ccc_direct_multiple_wr</span></code><a class="headerlink" href="#ccc-direct-multiple-wr" title="Link to this heading"></a></h5>
<p>Test: <a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/top/lib_i3c_top/test_ccc.py#L533">ccc_direct_multiple_wr</a></p>
<p>Sends a sequence of multiple directed SETMWL CCCs. The first and
the last have non-matching address. The two middle ones set MWL
to different values. Verify that the target responded to correct
addresses and executed both CCCs.</p>
<h5 id="ccc-direct-multiple-rd"><code class="docutils literal notranslate"><span class="pre">ccc_direct_multiple_rd</span></code><a class="headerlink" href="#ccc-direct-multiple-rd" title="Link to this heading"></a></h5>
<p>Test: <a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/top/lib_i3c_top/test_ccc.py#L572">ccc_direct_multiple_rd</a></p>
<p>Sends SETMWL CCC. Then sends multiple directed GETMWL CCCs to
thee different addresses. Only the one for the target should
be ACK-ed with the correct MWL content.</p>
<h3 id="enter-and-exit-hdr-mode">Enter and exit HDR mode<a class="headerlink" href="#enter-and-exit-hdr-mode" title="Link to this heading"></a></h3>
<p><a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/top/lib_i3c_top/test_enter_exit_hdr_mode.py">Source file</a></p>
<p><a class="external reference" href="./sim-results/target_hdr.html">Test results</a></p>
<h4 id="id36">Testpoints<a class="headerlink" href="#id36" title="Link to this heading"></a></h4>
<h5 id="id37"><code class="docutils literal notranslate"><span class="pre">Enter</span> <span class="pre">and</span> <span class="pre">exit</span> <span class="pre">HDR</span> <span class="pre">mode</span></code><a class="headerlink" href="#id37" title="Link to this heading"></a></h5>
<p>Test: enter_exit_hdr_mode</p>
<p>Issues ENTHDR0 CCC to the target, verifies that the target FSM
is in IdleHDR state. Issues HDR exit pattern, verifies that
the target FSM is back in Idle state.</p>
<h3 id="target-interrupts">target_interrupts<a class="headerlink" href="#target-interrupts" title="Link to this heading"></a></h3>
<p><a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/top/lib_i3c_top/test_interrupts.py">Source file</a></p>
<p><a class="external reference" href="./sim-results/target_interrupts.html">Test results</a></p>
<h4 id="id38">Testpoints<a class="headerlink" href="#id38" title="Link to this heading"></a></h4>
<h5 id="rx-desc-stat"><code class="docutils literal notranslate"><span class="pre">rx_desc_stat</span></code><a class="headerlink" href="#rx-desc-stat" title="Link to this heading"></a></h5>
<p>Test: rx_desc_stat</p>
<p>Enables RX_DESC_STAT TTI interrupt, checks if the irq_o signal is
deasserted, sends a private write over I3C to the target and
waits for irq_o assertion. Once the interrupt is asserted reads
a RX descriptor from the TTI RX descriptor queue, ensures that
irq_o gets deasserted after the read.</p>
<h5 id="tx-desc-stat"><code class="docutils literal notranslate"><span class="pre">tx_desc_stat</span></code><a class="headerlink" href="#tx-desc-stat" title="Link to this heading"></a></h5>
<p>Test: tx_desc_stat</p>
<p>Enables TX_DESC_STAT TTI interrupt, checks if the irq_o signal is
deasserted, writes data to TTI TX data queue followed by writing
a descriptor to TTI TX descriptor queue, sends a private read
over I3C and waits for irq_o assertion. Once the interrupt is
asserted clears it by writing 1 to the TX_DESC_STAT fields of TTI
INTERRUPT_STATUS csr and ensures that irq_o signal gets deasserted.</p>
<h5 id="ibi-done"><code class="docutils literal notranslate"><span class="pre">ibi_done</span></code><a class="headerlink" href="#ibi-done" title="Link to this heading"></a></h5>
<p>Test: ibi_done</p>
<p>Enables IBI_DONE_EN TTI interrupt, checks if the irq_o signal is
deasserted, and the status bit in TTI INTERRUPT_STATUS CSR cleared.
Issues and IBI, waits for it to be serviced by the controller.
Checks if the status bit is set in INTERRUPT_STATUS CSR and the
irq_o signal asserted. Reads LAST_IBI_STATUS field from the TTI
STATUS CSR, ensures that irq_o gets deasserted and status bit gets
cleared afterwards.</p>
<h5 id="interrupt-force"><code class="docutils literal notranslate"><span class="pre">interrupt_force</span></code><a class="headerlink" href="#interrupt-force" title="Link to this heading"></a></h5>
<p>Test: interrupt_force</p>
<p>The test is run for each TTI interrupt:</p>
<ul class="simple">
<li><p>TX_DESC_STAT_EN</p></li>
<li><p>RX_DESC_STAT_EN</p></li>
<li><p>RX_DESC_THLD_STAT_EN</p></li>
<li><p>RX_DATA_THLD_STAT_EN</p></li>
<li><p>IBI_DONE_EN</p></li>
</ul>
<p>Ensures that irq_o is deasserted. Disables the interrupt in TTI
INTERRUPT_ENABLE CSR, forces the interrupt by writing 1 to the
corresponding field in TTI INTERRUPT_FORCE CSR, ensures that
the irq_o does not get asserted.</p>
<p>Enables the interrupt in TTI INTERRUPT_ENABLE CSR, forces the
interrupt by writing 1 to the corresponding field in
TTI INTERRUPT_FORCE CSR, ensures that the irq_o does get asserted.</p>
<p>Clears the interrupt by writing 1 to its corresponding field in
TTI INTERRUPT_STATUS CSR, ensures that irq_o gets deasserted and
the status bit cleared.</p>
<h3 id="recovery-mode-tests">Recovery mode tests<a class="headerlink" href="#recovery-mode-tests" title="Link to this heading"></a></h3>
<p><a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/top/lib_i3c_top/test_recovery.py">Source file</a></p>
<p><a class="external reference" href="./sim-results/target_recovery.html">Test results</a></p>
<h4 id="id39">Testpoints<a class="headerlink" href="#id39" title="Link to this heading"></a></h4>
<h5 id="virtual-write"><code class="docutils literal notranslate"><span class="pre">virtual_write</span></code><a class="headerlink" href="#virtual-write" title="Link to this heading"></a></h5>
<p>Test: <a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/top/lib_i3c_top/test_recovery.py#L108">virtual_write</a></p>
<p>Tests CSR write(s) through recovery protocol using the virtual
target address. In the beginning sets the TTI and recovery
addresses via two SETDASA CCCs.</p>
<p>Performs a write to DEVICE_RESET register via the recovery
protocol targeting the virtual address. Reads the CSR content
back through AHB/AXI, checks if the transfer was successful and
the content read back matches. Then reads again the DEVICE_RESET
register, this time via the recovery protocol. Check if the content
matches.</p>
<p>Reads PENDING_INTERRUPT field from INTERRUPT_STATUS CSR via the
GET_STATUS CCC command issued to the TTI I3C address. Verifies
that the content read back matches what is set in the CSR.</p>
<p>Writes to the INDIRECT_FIFO_CTRL register using recovery protocol,
reads content of the register via AHB/AXI and verifies that their
content matches.</p>
<p>The test runs at core clock of 100 and 200 MHz. The slowest clock that does not result in a tSCO violation is 166 MHz.
The I3C bus clock is set to 12.5 MHz.</p>
<h5 id="virtual-write-alternating"><code class="docutils literal notranslate"><span class="pre">virtual_write_alternating</span></code><a class="headerlink" href="#virtual-write-alternating" title="Link to this heading"></a></h5>
<p>Test: <a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/top/lib_i3c_top/test_recovery.py#L218">virtual_write_alternating</a></p>
<p>Sets the TTI and recovery addresses via two SETDASA CCCs.</p>
<p>Writes to DEVICE_RESET via recovery protocol targeting the virtual
device address. Reads the register content through AHB/AXI and
check if it matches with what has been written.</p>
<p>Sends a private write transfer to the TTI address. Reads the
data back from TTI TX data queue and check that it matches.</p>
<p>Disables the recovery mode by writing 0x2 to DEVICE_STATUS register
and repeats the previous steps to test whether the I3C core
responds both to TTI and virtual addresses.</p>
<p>The test runs at core clock of 100 and 200 MHz. The slowest clock that does not result in a tSCO violation is 166 MHz.
The I3C bus clock is set to 12.5 MHz.</p>
<h5 id="write"><code class="docutils literal notranslate"><span class="pre">write</span></code><a class="headerlink" href="#write" title="Link to this heading"></a></h5>
<p>Test: <a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/top/lib_i3c_top/test_recovery.py#L286">write</a></p>
<p>Sets the TTI and recovery addresses via two SETDASA CCCs.</p>
<p>Performs a write to DEVICE_RESET register via the recovery
protocol targeting the virtual address. Reads the CSR content
back through AHB/AXI, checks if the transfer was successful and
the content read back matches. Then reads again the DEVICE_RESET
register, this time via the recovery protocol. Check if the content
matches.</p>
<p>Writes to the INDIRECT_FIFO_CTRL register using recovery protocol,
reads content of the register via AHB/AXI and verifies that their
content matches.</p>
<p>The test runs at core clock of 100 and 200 MHz. The slowest clock that does not result in a tSCO violation is 166 MHz.
The I3C bus clock is set to 12.5 MHz.</p>
<h5 id="indirect-fifo-write"><code class="docutils literal notranslate"><span class="pre">indirect_fifo_write</span></code><a class="headerlink" href="#indirect-fifo-write" title="Link to this heading"></a></h5>
<p>Test: <a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/top/lib_i3c_top/test_bypass.py#L96">indirect_fifo_write</a></p>
<p>Sets the TTI and recovery addresses via two SETDASA CCCs.</p>
<p>Retrieves indirect FIFO status and pointers by reading
INDIRECT_FIFO_STATUS CSR over AHB/AXI bus. Writes data to the
indirect FIFO through the recovery interface and retrieves status
and pointers again. Reads the data from the FIFO back through
AHB/AXI bus, retrieves FIFO pointers. Lastly clears the indirect
FIFO by writing to INDIRECT_FIFO_CTRL through the recovery
interface and obtains the pointers again.</p>
<p>After each FIFO status and pointer retrieval checks if both
match the expected behavior.</p>
<p>The test runs at core clock of 100 and 200 MHz. The slowest clock that does not result in a tSCO violation is 166 MHz.
The I3C bus clock is set to 12.5 MHz.</p>
<h5 id="write-pec"><code class="docutils literal notranslate"><span class="pre">write_pec</span></code><a class="headerlink" href="#write-pec" title="Link to this heading"></a></h5>
<p>Test: <a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/top/lib_i3c_top/test_recovery.py#L549">write_pec</a></p>
<p>Sets the TTI and recovery addresses via two SETDASA CCCs.</p>
<p>Writes some data to DEVICE_RESET register using the recovery
interface. Then, repeats the write with different data but
deliberately corrupts the recovery packets checksum (PEC).
Finally, reads the content of DEVICE_RESET CSR over AHB/AXI
and ensures that it matches with what was written in the first
transfer.</p>
<p>The test runs at core clock of 100 and 200 MHz. The slowest clock that does not result in a tSCO violation is 166 MHz.
The I3C bus clock is set to 12.5 MHz.</p>
<h5 id="read"><code class="docutils literal notranslate"><span class="pre">read</span></code><a class="headerlink" href="#read" title="Link to this heading"></a></h5>
<p>Test: <a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/top/lib_i3c_top/test_bypass.py#L230">read</a></p>
<p>Sets the TTI and recovery addresses via two SETDASA CCCs.</p>
<p>Writes random data to the PROT_CAP recovery CSR via AHB/AXI.
Disables the recovery mode, writes some data to TTI TX queues
via AHB/AXI, enables the recovery mode and reads PROT_CAP using
the recovery protocol. Checks if the content matches what was
written in the beginning of the test.</p>
<p>The test runs at core clock of 100 and 200 MHz. The slowest clock that does not result in a tSCO violation is 166 MHz.
The I3C bus clock is set to 12.5 MHz.</p>
<h5 id="read-short"><code class="docutils literal notranslate"><span class="pre">read_short</span></code><a class="headerlink" href="#read-short" title="Link to this heading"></a></h5>
<p>Test: <a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/top/lib_i3c_top/test_recovery.py#L692">read_short</a></p>
<p>Sets the TTI and recovery addresses via two SETDASA CCCs.</p>
<p>Writes random data to the PROT_CAP recovery CSR via AHB/AXI.
Disables the recovery mode, writes some data to TTI TX queues
via AHB/AXI, enables the recovery mode and reads PROT_CAP using
the recovery protocol. The I3C read transfer is deliberately
shorter - the recovery read is terminated by the I3C controller.
Checks if the content read back matches what was written in the
beginning of the test.</p>
<p>The test runs at core clock of 100 and 200 MHz. The slowest clock that does not result in a tSCO violation is 166 MHz.
The I3C bus clock is set to 12.5 MHz.</p>
<h5 id="read-long"><code class="docutils literal notranslate"><span class="pre">read_long</span></code><a class="headerlink" href="#read-long" title="Link to this heading"></a></h5>
<p>Test: <a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/top/lib_i3c_top/test_recovery.py#L758">read_long</a></p>
<p>Sets the TTI and recovery addresses via two SETDASA CCCs.</p>
<p>Writes random data to the PROT_CAP recovery CSR via AHB/AXI.
Disables the recovery mode, writes some data to TTI TX queues
via AHB/AXI, enables the recovery mode and reads PROT_CAP using
the recovery protocol. The I3C read transfer is deliberately
longer - the recovery read is terminated by the I3C target.
Checks if the content read back matches what was written in the
beginning of the test.</p>
<p>The test runs at core clock of 100 and 200 MHz. The slowest clock that does not result in a tSCO violation is 166 MHz.
The I3C bus clock is set to 12.5 MHz.</p>
<h5 id="virtual-read"><code class="docutils literal notranslate"><span class="pre">virtual_read</span></code><a class="headerlink" href="#virtual-read" title="Link to this heading"></a></h5>
<p>Test: <a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/top/lib_i3c_top/test_recovery.py#L883">virtual_read</a></p>
<p>Sets the TTI and recovery addresses via two SETDASA CCCs. Disables
the recovery mode.</p>
<p>Issues a series of recovery read commands to all CSRs mentioned in the
spec. The series is repeated twice - for recovery mode enabled and disabled.
Each transfer is checked if the response is ACK or NACK and in case of
ACK if PEC checksum is correct.</p>
<p>Checks if CSRs that should be available anytime (i.e. when the recovery
mode is off) are always accessible, checks if other CSRs are accessible
only in the recovery mode.</p>
<p>The test runs at core clock of 100 and 200 MHz. The slowest clock that does not result in a tSCO violation is 166 MHz.
The I3C bus clock is set to 12.5 MHz.</p>
<h5 id="virtual-read-alternating"><code class="docutils literal notranslate"><span class="pre">virtual_read_alternating</span></code><a class="headerlink" href="#virtual-read-alternating" title="Link to this heading"></a></h5>
<p>Test: <a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/top/lib_i3c_top/test_recovery.py#L969">virtual_read_alternating</a></p>
<p>Alternates between recovery mode reads and TTI reads. Initially
sets the TTI and recovery addresses via two SETDASA CCCs.</p>
<p>Writes random data to the PROT_CAP register over AHB/AXI, reads
the register through the recovery protocol and check if the
content matches.</p>
<p>Writes data and its descriptor to TTI TX queues, issues a private
I3C read, verifies that the data read back matches.</p>
<p>Disables the recovery mode and repeats the recovery and TTI reads
to ensure that both TTI and recovery transfers are possible
regardless of the recovery mode setting.</p>
<p>The test runs at core clock of 100 and 200 MHz. The slowest clock that does not result in a tSCO violation is 166 MHz.
The I3C bus clock is set to 12.5 MHz.</p>
<h5 id="payload-available"><code class="docutils literal notranslate"><span class="pre">payload_available</span></code><a class="headerlink" href="#payload-available" title="Link to this heading"></a></h5>
<p>Test: <a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/top/lib_i3c_top/test_bypass.py#L362">payload_available</a></p>
<p>Sets the TTI and recovery addresses via two SETDASA CCCs.</p>
<p>Ensures that initially the recovery_payload_available_o signal
is deasserted. Then writes data to the indirect FIFO via the
recovery interface and checks if the signal gets asserted.</p>
<p>Reads from INDIRECT_FIFO_DATA CSR over AHB/AXI and checks if the
read causes the signal to be deasserted again.</p>
<p>The test runs at core clock of 100 and 200 MHz. The slowest clock that does not result in a tSCO violation is 166 MHz.
The I3C bus clock is set to 12.5 MHz.</p>
<h5 id="image-activated"><code class="docutils literal notranslate"><span class="pre">image_activated</span></code><a class="headerlink" href="#image-activated" title="Link to this heading"></a></h5>
<p>Test: <a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/top/lib_i3c_top/test_bypass.py#L426">image_activated</a></p>
<p>Sets the TTI and recovery addresses via two SETDASA CCCs.</p>
<p>Ensures that initially the image_activated_o signal is deasserted.
Writes 0xF to the 3rd byte of the RECOVERY_CTRL register using the
recovery interface. Checks if the signal gets asserted. Then writes
0xFF to the same byte of the register and checks if the signal
gets deasserted.</p>
<p>The test runs at core clock of 100 and 200 MHz. The slowest clock that does not result in a tSCO violation is 166 MHz.
The I3C bus clock is set to 12.5 MHz.</p>
<h5 id="recovery-flow"><code class="docutils literal notranslate"><span class="pre">recovery_flow</span></code><a class="headerlink" href="#recovery-flow" title="Link to this heading"></a></h5>
<p>Test: <a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/top/lib_i3c_top/test_bypass.py#L562">recovery_flow</a></p>
<p>The test exercises firmware image transfer flow using the recovery
protocol. It consists of two agents running concurrently.</p>
<p>The AHB/AXI agent is responsible for recovery operation from the
system bus side. It mimics operation of the recovery handling
firmware.</p>
<p>The BFM agent issues I3C transactions and is responsible for pushing
a firmware image to the target.</p>
<p>The test runs at core clock of 100 and 200 MHz. The slowest clock that does not result in a tSCO violation is 166 MHz.
The I3C bus clock is set to 12.5 MHz.</p>
<h3 id="recovery-bypass">Recovery bypass<a class="headerlink" href="#recovery-bypass" title="Link to this heading"></a></h3>
<p><a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/top/lib_i3c_top/test_bypass.py">Source file</a></p>
<p><a class="external reference" href="./sim-results/target_recovery_bypass.html">Test results</a></p>
<h4 id="id40">Testpoints<a class="headerlink" href="#id40" title="Link to this heading"></a></h4>
<h5 id="simple-write-read"><code class="docutils literal notranslate"><span class="pre">simple_write_read</span></code><a class="headerlink" href="#simple-write-read" title="Link to this heading"></a></h5>
<p>Test: <a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/top/lib_i3c_top/test_bypass.py#L96">indirect_fifo_write</a></p>
<p>Verify basic bypass functionality</p>
<ul class="simple">
<li><p>Enable I3C Core bypass in the Recovery Handler via CSR</p></li>
<li><p>Write to the TTI TX Data Queue and read from the Indirect FIFO Queue</p></li>
<li><p>Compare the data and verify it hasnt changed</p></li>
</ul>
<h5 id="check-csr-access"><code class="docutils literal notranslate"><span class="pre">check_csr_access</span></code><a class="headerlink" href="#check-csr-access" title="Link to this heading"></a></h5>
<p>Tests:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/top/lib_i3c_top/test_bypass.py#L1009">ocp_csr_access_bypass_enabled</a></p></li>
<li><p><a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/top/lib_i3c_top/test_bypass.py#L1014">ocp_csr_access_bypass_disabled</a></p></li>
</ul>
<p>Verify accessibility of CSRs as specified in the OCP Secure Firmware Recovery
specification with additional bypass features</p>
<ul class="simple">
<li><p>Write to all RW and read from all RO Secure Firmware Recovery Registers</p></li>
<li><p>Write to bypass registers with W1C property</p></li>
<li><p>Ensure the reserved fields of tested registers were not written</p></li>
<li><p>Ensure RW registers can be written and read back</p></li>
<li><p>Ensure RO registers cannot be written</p></li>
<li><p>Perform checks with bypass disabled and enabled</p></li>
</ul>
<h5 id="recovery-status-wires"><code class="docutils literal notranslate"><span class="pre">recovery_status_wires</span></code><a class="headerlink" href="#recovery-status-wires" title="Link to this heading"></a></h5>
<p>Tests:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/top/lib_i3c_top/test_bypass.py#L362">payload_available</a></p></li>
<li><p><a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/top/lib_i3c_top/test_bypass.py#L426">image_activated</a></p></li>
</ul>
<p>Verify recovery status wires as specified in the Caliptra SS Hardware Specification</p>
<ul class="simple">
<li><p>Write to the TTI TX Queue and read from the Indirect FIFO Queue.</p></li>
<li><p>Ensuring correct state of the <code class="docutils literal notranslate"><span class="pre">payload_available</span></code> wire</p></li>
<li><p>Write to the Recovery Control CSR to activate an image</p></li>
<li><p>Ensure correct state of the <code class="docutils literal notranslate"><span class="pre">image_activated</span></code> wire</p></li>
</ul>
<h5 id="indirect-fifo-overflow"><code class="docutils literal notranslate"><span class="pre">indirect_fifo_overflow</span></code><a class="headerlink" href="#indirect-fifo-overflow" title="Link to this heading"></a></h5>
<p>Test: <a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/top/lib_i3c_top/test_bypass.py#L183">indirect_fifo_overflow</a></p>
<p>Verify that access is rejected when the Indirect FIFO Queue overflows</p>
<h5 id="indirect-fifo-underflow"><code class="docutils literal notranslate"><span class="pre">indirect_fifo_underflow</span></code><a class="headerlink" href="#indirect-fifo-underflow" title="Link to this heading"></a></h5>
<p>Test: <a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/top/lib_i3c_top/test_bypass.py#L208">indirect_fifo_underflow</a></p>
<p>Verify that access is rejected when the Indirect FIFO Queue underflows</p>
<h5 id="i3c-bus-traffic-during-loopback"><code class="docutils literal notranslate"><span class="pre">i3c_bus_traffic_during_loopback</span></code><a class="headerlink" href="#i3c-bus-traffic-during-loopback" title="Link to this heading"></a></h5>
<p>Test: <a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/top/lib_i3c_top/test_bypass.py#L477">i3c_bus_traffic_during_loopback</a></p>
<p>Verify that Recovery Handler with bypass enabled is not in any way interfered by any
I3C bus traffic</p>
<h5 id="check-axi-filtering"><code class="docutils literal notranslate"><span class="pre">check_axi_filtering</span></code><a class="headerlink" href="#check-axi-filtering" title="Link to this heading"></a></h5>
<p>Test: <a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/top/lib_i3c_top/test_bypass.py#L819">axi_filtering</a></p>
<p>Verify that AXI access to Secure Firmware Recovery registers is filtered</p>
<ul class="simple">
<li><p>AXI IDs from privileged ID list should always grant access to all registers</p></li>
<li><p>Once ID filtering is disabled, register access should be granted regardless of the
transaction ID</p></li>
<li><p>With ID filtering enabled, all transactions with ID outside of the privileged ID list
should be rejected with SLVERR response and register access request should not be
propagated to the CPUIF</p></li>
</ul>
<h5 id="id41"><code class="docutils literal notranslate"><span class="pre">recovery_flow</span></code><a class="headerlink" href="#id41" title="Link to this heading"></a></h5>
<p>Test: <a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/top/lib_i3c_top/test_bypass.py#L562">recovery_flow</a></p>
<p>Verify that Recovery Handler with bypass enabled can perform full Recovery Sequence
as specified in the Caliptra Root of Trust specification</p>
<h5 id="cptra-mcu-recovery"><code class="docutils literal notranslate"><span class="pre">cptra_mcu_recovery</span></code><a class="headerlink" href="#cptra-mcu-recovery" title="Link to this heading"></a></h5>
<p>Test: cptra_mcu_recovery</p>
<p>Verify that Caliptra Subsystem can perform full Recovery Sequence with I3C Core with
bypass feature enabled. This test will run software on both Caliptra core and Caliptra
MCU to interact with the I3C Core and Caliptra RoT.</p>
<ul class="simple">
<li><p>MCU should initialize I3C Core with bypass enabled</p></li>
<li><p>Caliptra ROM should enable Recovery Mode</p></li>
<li><p>MCU should load image to Indirect FIFO Queue which will be read by Caliptra ROM</p></li>
<li><p>MCU should activate an image</p></li>
<li><p>Caliptra ROM should write an image to MCU SRAM</p></li>
<li><p>The image should be identical with the one read form simulated QSPI</p></li>
</ul>
<h3 id="target-peripheral-reset">target_peripheral_reset<a class="headerlink" href="#target-peripheral-reset" title="Link to this heading"></a></h3>
<p><a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/top/lib_i3c_top/test_target_reset.py">Source file</a></p>
<p><a class="external reference" href="./sim-results/target_reset.html">Test results</a></p>
<h4 id="id42">Testpoints<a class="headerlink" href="#id42" title="Link to this heading"></a></h4>
<h5 id="id43"><code class="docutils literal notranslate"><span class="pre">target_peripheral_reset</span></code><a class="headerlink" href="#id43" title="Link to this heading"></a></h5>
<p>Test: <a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/top/lib_i3c_top/test_target_reset.py#L69">target_peripheral_reset</a></p>
<p>Issues I3C target reset pattern and verifies successful peripheral reset.</p>
<h5 id="target-escalated-reset"><code class="docutils literal notranslate"><span class="pre">target_escalated_reset</span></code><a class="headerlink" href="#target-escalated-reset" title="Link to this heading"></a></h5>
<p>Test: <a class="reference external" href="https://github.com/chipsalliance/i3c-core/tree/main//verification/cocotb/top/lib_i3c_top/test_target_reset.py#L76">target_escalated_reset</a></p>
<p>Issues I3C target reset patterns and verifies successful reset escalation.</p>
<h2 id="compliance-test-suite">Compliance test suite<a class="headerlink" href="#compliance-test-suite" title="Link to this heading"></a></h2>
<p>The list of non-public tests which utilize Avery I3C VIP framework and have been successfully ran against the design is available in the <a class="reference external" href="https://github.com/chipsalliance/i3c-core/blob/main/doc/cts-list.md">CTS list</a>.</p>


  <hr>
<div class="md-source-file">
  <small>
    
      Last update:
      2025-11-02
    
  </small>
</div>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="phy.html" class="md-footer__link md-footer__link--prev" aria-label="Previous: Physical Layer" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Physical Layer
            </div>
          </div>
        </a>
      
      
        
        <a href="ext_cap.html" class="md-footer__link md-footer__link--next" aria-label="Next: Specification for I3C Vendor-Specific Extended Capabilities" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Specification for I3C Vendor-Specific Extended Capabilities
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  
  
  <div class="md-footer-meta md-typeset">
    
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-footer-copyright__highlight">
        Copyright &#169; Antmicro, 2025.
        
    </div>
  
  
</div>
      
        <div class="md-social">
  
    
    
      
      
    
    <a href="https://github.com/antmicro" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
    
    
      
      
    
    <a href="https://twitter.com/antmicro" target="_blank" rel="noopener" title="twitter.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg>
    </a>
  
</div>
      
    </div>
    
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": ".", "features": ["toc.integrate"], "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
      
        <script src="_static/sphinx_immaterial_theme.f9d9eeeb247ace16c.min.js?v=8ec58cb5"></script>
    
  </body>
</html>